
PUTC(3S)        ДЕМОС. Библиотечные функции         PUTC(3S)


ИИММЯЯ
       ppuuttcc, ppuuttcchhaarr, ffppuuttcc, ppuuttww - запись символа или слова
       в файл.

ФФООРРММААТТ
       #iinncclluuddee <_s_t_d_i_o._h>

       iinntt ppuuttcc(_c, _s_t_r_e_a_m)
       FFIILLEE *_s_t_r_e_a_m;

       ppuuttcchhaarr(_c)

       ffppuuttcc(_c, _s_t_r_e_a_m)
       FFIILLEE *_s_t_r_e_a_m;

       ppuuttww(_w, _s_t_r_e_a_m)
       FFIILLEE *_s_t_r_e_a_m;

ООППИИССААННИИЕЕ
       Макрофункция ppuuttcc добавляет символ _c в файл,  связан-
       ный с потоком данных _s_t_r_e_a_m.  Возвращается записанный
       символ.

       Функция ppuuttcchhaarr(_c) определяется как ppuuttcc(_c, ssttddoouutt).

       Функция ffppuuttcc является аналогом ppuuttcc, но представляет
       собой  подпрограмму-функцию,  а  не макровызыв. Может
       использоваться  для   экономии   памяти,   занимаемой
       объектной программой.

       Функция ppuuttww добавляет слово _w в  файл,  связанный  с
       потоком _s_t_r_e_a_m.  Возвращается записанное слово. Функ-
       ция ppuuttww не предполагает  и  не  производит  никакого
       выравнивания границы данных в файле.

       Данные,  передаваемые  в  стандартный   файл   вывода
       ssttddoouutt,  обычно  буферизуются,  если  только вывод не
       направлен на терминал.  Это соглашение можно изменить
       с  помощью  функции  _s_e_t_b_u_f(3s).   При  записи в файл
       ssttddeerrrr  по  умолчанию  буферизация  не  производится,
       однако,  можно установить режим буферизации с помощью
       функции ffrreeooppeenn (см.  _f_o_p_e_n(3)).   Любое  необходимое
       состояние  можно  также  установить с помощью функции
       sseettbbuuff(3s).  Когда выходные данные  небуферизированы,
       информация  поступает в файл-приемник или на терминал
       сразу же после записи. При буферизованном обмене про-
       исходит  накопление  большого числа символов, которые
       затем  записываются  в  виде  целого  блока.    Можно
       использовать  функцию  fffflluusshh  (смотри _f_c_l_o_s_e(3)) для
       форсированного вывода информации  из  буфера  до  его
       полного заполнения.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _f_o_p_e_n(3s),    _f_c_l_o_s_e(3s),     _g_e_t_c(3s),     _p_u_t_s(3s),
       _p_r_i_n_t_f(3s), _f_r_e_a_d(3s), _s_e_t_b_u_f(3s)

ДДИИААГГННООССТТИИККАА
       При  возникновении  ошибки  эти  функции   возвращают


                            -1-                     ДЕМОС/PV


PUTC(3S)        ДЕМОС. Библиотечные функции         PUTC(3S)


       значение EEOOFF ("конец файла"). Поскольку эта константа
       может интерпретироваться  как  простое  целое  число,
       необходимо  использовать  _f_e_r_r_o_r(3s)  для определения
       ошибок, которые могут возникать при работе ppuuttww.

ЗЗААММЕЕЧЧААННИИЯЯ
       Вследствие того, что ppuuttcc реализована в виде макрооп-
       ределения,  аргумент  _s_t_r_e_a_m обрабатывается с некото-
       рыми  побочными   эффектами.   В   частности,   вызов
       ppuuttcc(_c,*_f++) работает не так, как можно предположить.


















































                            -2-                     ДЕМОС/PV

