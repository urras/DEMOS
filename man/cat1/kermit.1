
KERMIT(1)              ДЕМОС. Команды              KERMIT(1)


ИИММЯЯ
       kkeerrmmiitt - передача файлов, виртуальный терминал.

ФФООРРММААТТ
       kkeerrmmiitt cc[llbbeett] [_л_и_н_и_я] [_с_к_о_р_о_с_т_ь] [_с_п_е_ц._с_и_м_в_о_л]
       kkeerrmmiitt rr[vvddddiillbbtt] [_л_и_н_и_я] [_с_к_о_р_о_с_т_ь]
       kkeerrmmiitt ss[vvddddiillbbtt] [_л_и_н_и_я] [_с_к_о_р_о_с_т_ь] _ф_а_й_л ...

ООППИИССААННИИЕЕ
       Программа kkeerrmmiitt предоставляет  возможность  надежной
       передачи  файлов между машинами и примитивные возмож-
       ности виртуального терминала.  Она  была  реализована
       на  большом  числе  различных  машин,  включая микро-
       компьютеры.  Передаваемые файлы могут содержать  про-
       извольные символьные данные (8 бит на символ) и могут
       быть произвольной длины.  Файловый  протокол  исполь-
       зует короткие (96 символов) пакеты с контрольной сум-
       мой, с подтверждением AACCKK//NNAACCKK и проверками контроль-
       ного  времени.   kkeerrmmiitt  в настоящее время использует
       контрольное время в 5 секунд и 10 повторных попыток.

       Аргументами для kkeerrmmiitt являются ключи  (без  пробелов
       между  ними),  три  необязательных аргумента (которые
       указываются в том же порядке, что и ключи,  указываю-
       щие на их присутствие) и, если это операция _п_е_р_е_д_а_ч_а,
       список из одного или нескольких файлов  (в  некотором
       смысле это похоже на структуру команды ttaarr(1)).

       kkeerrmmiitt работает в трех  режимах:  _с_в_я_з_ь,  _п_е_р_е_д_а_ч_а  и
       _п_р_и_е_м.   Первый  служит  для подключения виртуального
       терминала, остальные два - для передачи файлов.   Эти
       режимы  определяются  первым  ключом,  который должен
       быть соответственно cc, ss, или   rr.   Можно  указывать
       только один режим.

       Ключ dddd (debug) служит для отладки.   Если  его  ука-
       зать,  то  программа kkeerrmmiitt будет выдавать состояния,
       через которые она проходит в своей работе,  вместе  с
       другой  информацией  о выполняемых операциях.  Третий
       ключ dd заставит kkeerrmmiitt выдавать еще  более  детальную
       трассировку своей работы.

       Ключ vv или одиночный ключ dd на локальной машине  зас-
       тавляет       kkeerrmmiitt      показывать       количество
       посланных/принятых килобайт.

       Ключ ii (image) позволяет передавать файлы между двумя
       системами  ДЕМОС  по  семибитной  линии.  Если указан
       этот ключ (для программ kkeerrmmiitt, работающих в системах
       ДЕМОС),  символ  ППСС  отображается  в  пару  ВВКК/ППСС при
       выводе, ВВКК отбрасываются при вводе, и байты  маскиру-
       ются до 7 бит. Если не указан этот режим, то преобра-
       зования ППСС <--> ВВКК/ППСС не делаются, и передаются все 8
       битов байта. Этот режим используется по умолчанию для
       программ kkeerrmmiitt, работающих не в ДЕМОС.

       Ключ ll (line) указывает терминальную линию, по  кото-
       рой kkeerrmmiitt связывается с другой машиной.  Если ключ ll


                            -1-                     ДЕМОС/PV


KERMIT(1)              ДЕМОС. Команды              KERMIT(1)


       не указан, то используется стандартный файл ввода,  и
       считается,  что  kkeerrmmiitt  работает на удаленной машине
       (т.е. _н_е на той машине, к которой подключен  терминал
       пользователя).

       Ключ bb (baud) устанавливает скорость передачи,  кото-
       рую  нужно  установить  на линии, указанной ключом ll.
       Если ключ bb не указан, скорость линии не  изменяется,
       Скорости  можно  выбирать  из  набора: 110, 150, 300,
       1200, 2400, 4800, 9600.

       Ключ ee (escape) позволяет пользователю задать  первый
       символ  из  специальной  последовательности  в режиме
       _с_в_я_з_ь.  Если ввести с клавиатуры этот символ, то kkeerr--
       mmiitt  приостановится и будет ждать следующего символа.
       Если следующим символом будет  'cc'  или  'CC',  kkeerrmmiitt
       разорвет  связь  с удаленной машиной.  Если следующим
       символом будет указанный специальный символ, то будет
       передан  сам  этот  символ.   В ответ на любые другие
       символы на терминал пользователя будет выдан звуковой
       сигнал,  удаленной же машине ничего не будет послано.
       Все другие вводимые символы передаются без изменений.
       По умолчанию специальным символом является '^^'.

       Аргументы _ф_а_й_л ... имеют смысл только в режиме  _п_е_р_е_-
       _д_а_ч_а.   Принимающая  программа  kkeerrmmiitt будет пытаться
       записать файл с тем же именем, которое было использо-
       вано  при  передаче.   В системах, отличных от ДЕМОС,
       kkeerrmmiitt обычно преобразует имена передаваемых файлов к
       верхнему  регистру  и  принимаемых файлов - к нижнему
       (см.  ключ ii).  Если в имени файла  встречается  слэш
       (/),  то при передаче kkeerrmmiitt отбросит начальную часть
       имени до последнего слэша.

ППРРИИММЕЕРР
       Здесь мы подразумеваем, что у нас  есть  две  машины,
       работающие  в  ДЕМОС.   Работа  ведется  на локальной
       машине _I_P_K, и требуется связаться с  _K_I_A_E  (удаленная
       машина).  На  линии /_d_e_v/_t_t_y_0_3 подключен модем.

       Нужно связаться с системой _K_I_A_E  и  передать  на  нее
       файл _f_i_l_e_1.

       Команда:       kkeerrmmiitt ccllbb /_d_e_v/_t_t_y_0_3 11220000

       Ответ kkeerrmmiitt:  KERMIT: CONNECTED...

       Теперь можно набрать номер удаленной машины и подклю-
       чить  модем.  Все набираемое на терминале будет пере-
       сылаться на удаленную машину, и весь вывод с  удален-
       ной машины будет отображаться на терминале.  По нажа-
       тию ВВКК появится приглашение '_И_м_я: '.   Надо  войти  в
       систему.

       Теперь надо запустить kkeerrmmiitt на удаленной машине, для
       того,  чтобы можно было переслать туда файл.  Сначала
       запускается kkeerrmmiitt на удаленной (в этом случае прини-
       мающей машине) потом на локальной (передающей).


                            -2-                     ДЕМОС/PV


KERMIT(1)              ДЕМОС. Команды              KERMIT(1)


       Команда:       kkeerrmmiitt rr
       (теперь на _K_I_A_E kkeerrmmiitt работает на прием)

       Чтобы разорвать связь, надо набрать '^^'  (специальный
       символ) и 'cc'.

       Ответ kkeerrmmiitt:  KERMIT: DISCONNECTED.
       Команда:       kkeerrmmiitt ssllbb /_d_e_v/_t_t_y_0_3 11220000 _f_i_l_e_1
       Ответ kkeerrmmiitt:  Передача _f_i_l_e_1 как _f_i_l_e_1

       Когда  передача  закончится,   kkeerrmmiitt   ответит   или
       "Готово", или "Передача не удалась", в зависимости от
       того, успешно или нет прошла передача.   Если  теперь
       нужно  передать  файл с машины _K_I_A_E (удаленной) в _I_P_K
       (локальную), это можно сделать это с помощью  следую-
       щих команд:

                      kkeerrmmiitt ccllbb /_d_e_v/_t_t_y_0_3 11220000
                      (связались с _K_I_A_E)

                      kkeerrmmiitt ss _f_i_l_e_9
                      ^^cc
                      (снова общаемся с _I_P_K)

                      kkeerrmmiitt rrllbb /_d_e_v/_t_t_y_0_3 11220000

       После окончания  передачи  нужно  снова  связаться  с
       _K_I_A_E, выйти из системы и завершить kkeerrmmiitt.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _s_t_t_y(1), _u_u_c_p(1)

ЗЗААММЕЕЧЧААННИИЯЯ
       Протокол kkeerrmmiitt использует  только  печатные  символы
       набора AASSCCIIII, CCTTRRLL//AA и ВВКК//ППСС.

       Протокол  XXOONN//XXOOFFFF  может  быть   использован   "ниже
       уровня"  протокола  kkeerrmmiitt  (режим TTAANNDDEEMM в ДЕМОС 2).
       По умолчанию этот протокол включен для режима  _с_в_я_з_ь,
       а  для других режимов - выключен. Для изменения умол-
       чания можно использовать ключ tt.

       Линия связи никаким образом не закрывается от исполь-
       зования  другими программами. Несколько пользователей
       могут запустить kkeerrmmiitt (или все, что угодно) на одной
       и той же линии.

       Эта реализация не посылает и не  обрабатывает  пакеты
       сообщений об ошибках.











                            -3-                     ДЕМОС/PV

