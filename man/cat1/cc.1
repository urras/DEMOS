
CC(1)                  ДЕМОС. Команды                  CC(1)


ИИММЯЯ
       cccc - вызов компилятора с языка Си

ФФООРРММААТТ
       cccc [_к_л_ю_ч] ... _ф_а_й_л...

ООППИИССААННИИЕЕ
       Команда cccc предназначена  для  вызова  компилятора  с
       языка  Си.   Она  воспринимает  параметры  нескольких
       типов.

       Параметры, имена которых заканчиваются на ._c,  счита-
       ются  исходными программами на языке Си; они компили-
       руются,  и  каждая  объектная  программа  остается  в
       файле, имя которого получается из имени соответствую-
       щего исходного файла после замены ._c на ._o.  Файл  ._o
       удаляется, если одна единственная Си-программа компи-
       лируется и загружается в одном проходе.

       Аналогично, параметры, чьи имена заканчиваются на ._s,
       считаются исходными программами на языке ассемблера и
       транслируются с ассемблера, в результате чего получа-
       ются файлы ._o.

       Суффикс ._c_m означает, что программа должна быть обра-
       ботана  макропроцессором  mmmm(1)  (после  стандартного
       Си-препроцессора).

       В команде cccc могут задаваться следующие ключи:

       --cc     Отменяет  фазу  сборки  и  вызывает  генерацию
              объектного  кода  даже тогда, когда компилиру-
              ется только одна программа.

       --ff     Указание о  том,  что  на  машине  отсутствует
              процессор FPP.   В этом случае, вместе с прог-
              раммой загружаются необходимые подпрограммы из
              библиотеки эмуляции процессора FPP.

       --pp     Включение профилирования программы.  Стандарт-
              ная  программа  запуска заменяется программой,
              которая  при  запуске  автоматически  вызывает
              mmoonniittoorr(3)  и  организует  вывод файла _m_o_n._o_u_t
              при нормальном завершении выполнения объектной
              программы.  После  этого  может  быть построен
              график выполнения с помощью команды pprrooff(1).

       --dd     Генерация кода и дополнительной информации для
              отладчика ccddeebb.

       --OO     Включение фазы оптимизации объектного кода.

       --SS     Компилирует   перечисленные   Си-программы   и
              оставляет  результат  работы в виде ассемблер-
              ного текста в соответствующих файлах с суффик-
              сами ._s.

       --EE     Запускает   только   препроцессор   ccpppp    для


                            -1-                      ДЕМОС/P


CC(1)                  ДЕМОС. Команды                  CC(1)


              перечисленных Си-программ и выдает результат в
              стандартный файл вывода.

       --aa     Блокируется  вызов  препроцессора  ccpppp.   Ключ
              используется,  если  входной  текст уже прошел
              обработку препроцессором.

       --PP     Каждый файл, имя  которого  имеет  суффикс  ._c
              обрабатывается   только   препроцессором  ccpppp,
              результат работы которого помещается в файл  с
              соответствующим  именем  и  суффиксом  ._i, при
              этом подавляется вывод строк вида ##lliinnee...

       --CC     Обычно препроцессор ccpppp убирает комментарии из
              своего  вывода.  Ключ --CC блокирует уничтожение
              комментариев, что бывает необходимо для  прог-
              рамм xxssttrr(1) или lliinntt(1).

       --mm     После препроцессора ccpppp программа  обрабатыва-
              ется   макропроцессором   mmmm(1)  ;  дальнейшая
              трансляция осуществляется как обычно.

       --MM     После препроцессора ccpppp программа  обрабатыва-
              ется  макропроцессором mmmm(1) ; результат выда-
              ется в  стандартный  вывод.   После  ключа  --MM
              могут  быть перечислены ключи для макропроцес-
              сора mmmm(1) ;

       --YY или --yy
              Включаются предупреждения об  использовании  в
              структуре  идентификатора  поля  от  структуры
              другого типа. Ключ --yy выдает это  как  предуп-
              реждение, а --YY - как ошибку.

       --AA     Включаются предупреждения о  неявных  преобра-
              зованиях    типов    вида:   iinntt <--> ppooiinntteerr,
              cchhaarr <--> iinntt,   которые    могут    оказаться
              машинно-зависимыми.

       --oo _в_ы_х_о_д
              Помещает окончательный результат в файл с име-
              нем  _в_ы_х_о_д.  Если используется этот ключ, файл
              _a._o_u_t не будет изменен.

       --vv     Выдавать на терминал протокол работы программы
              cccc  (имена  запускаемых ею программ с их аргу-
              ментами).  Этот ключ передается еще  и  редак-
              тору связей lldd, который при указанном ключе --QQ
              выдает сформированную строку распределения  по
              оверлеям (см.  _l_d(1)).

       --VV, --ZZ, --LL, --QQ
              Транслировать программу  для  использования  в
              оверлейном  модуле.  При этом подключаeтся (на
              этапе загрузки) оверлейнaя  версия  библиотеки
              _l_i_b_o_v_c._a  вместо  _l_i_b_c._a, и определяется пере-
              менная ccpppp CC__OOVVEERRLLAAYY.  Сейчас ключ --VV  остался
              только для совместимости, то же самое делается


                            -2-                      ДЕМОС/P


CC(1)                  ДЕМОС. Команды                  CC(1)


              по ключам --ZZ, --LL, --QQ.  При оверлейной  сборке,
              если  встречается ключ --ZZ и не встречается --QQ,
              библиотека _l_i_b_o_v_c._a всегда попадает в  базовый
              сегмент  (при вызове lldd в конец всей командной
              строки подставляется  --LL --lloovvcc).   Команда  cccc
              может выглядеть так:

              cccc [--nnii] --ZZ <модули первого сегмента>
                 [--ZZ <модули следующего сегмента>]...
                 [--LL <модули и библиотеки базового
                       сегмента>]

              Есть возможность автоматического распределения
              модулей  и  библиотек  по  оверлеям  с помощью
              ключа --QQ:

              cccc [--nnii] --QQ <модули и библиотеки, авто-
                 матически распределяемые по оверлеям>
                 [--ZZ <модули, которые обязательно должны
                 быть вместе в одном и том же оверлейном
                 сегменте>]...
                 [--LL <модули и библиотеки, которые
                 обязательно должны быть вместе в базовом
                 сегменте>]

              При этом минимизируются размер и  число  овер-
              лейных  сегментов,  а  базовый  сегмент текста
              дополняется примерно до границы 8K.

              При вызове ключ --QQ может встречаться несколько
              раз;  при этом, если последним в списке указан
              ключ  --QQ,   значительную   часть   стандартной
              Си-библиотеки (--llsspplliittcc) помещается в оверлеи,
              а если последним указан ключ --LL - то в базовый
              сегмент.  Информацию о работе редактора связей
              lldd в режиме автоматического  распределения  по
              оверлеям  (--QQ) можно получить, указав дополни-
              тельно ключ --vv.  Подробнее см. описание _l_d(1).

       --DD_и_м_я=_о_п_р
       --DD_и_м_я

              Определяет указанное _и_м_я для препроцессора, по
              аналогии   с  ##ddeeffiinnee.   Если  определение  не
              задано, данное имя определяется как _1.

       --UU_и_м_я  Удаляет все начальные  определения  указанного
              имени.

       --II_к_а_т  Поиск файлов ##iinncclluuddee, чьи имена не начинаются
              с  символа  '//', всегда производится сначала в
              текущем каталоге, затем в каталогах _к_а_т, пере-
              численных  при ключе --II, а затем - в каталогах
              стандартного списка.

       --BB_с_т_р_о_к_а
              Ищет заменяющие фазы компилятора  в  файлах  с
              именем  _с_т_р_о_к_а  с суффиксами _c_p_p, _c_0, _c_1 и _c_2.


                            -3-                      ДЕМОС/P


CC(1)                  ДЕМОС. Команды                  CC(1)


              Если  _с_т_р_о_к_а  пустая,  используется  резервная
              версия.

       --tt[p012]
              Ищет только указанные фазы компилятора в  фай-
              лах,  имена  которых строятся в соответствии с
              ключом --BB.  При отсутствии ключа --BB подразуме-
              вается следующая _с_т_р_о_к_а: /_u_s_r/_o_l_d/_l_i_b.

       --TT[aallmm]_и_м_я
              Ассемблер (если указано  aa),  редактор  связей
              (ll),  или  макропроцессор mmmm(1) (mm) вызываются
              из файла _и_м_я вместо вызываемых  по  умолчанию.
              Если  ключ  указан в форме --TTaa, вместо /_b_i_n/_a_s
              вызывается /_u_s_r/_b_i_n/_n_e_w_a_s.

       Остальные параметры являются либо  ключами  редактора
       связей lldd(1), либо совместимыми с Си объектными прог-
       раммами, полученными обычно в результате предшествую-
       щих выполнений cccc, либо библиотеками совместимых с Си
       программ. Эти программы вместе с результатами указан-
       ных  компиляций  загружаются  (в  заданном  порядке),
       давая в результате  выполняемую  программу  с  именем
       _a._o_u_t.

ФФААЙЙЛЛЫЫ
       _ф_а_й_л._c             входной файл
       _ф_а_й_л._o             объектный файл
       _a._o_u_t              выходная программа
       /_t_m_p/_c_t_m*          временные файлы
       /_l_i_b/_c_p_p           препроцессор
       /_l_i_b/_c_0            компилятор 0 проход
       /_l_i_b/_c_1            компилятор 1 проход
       /_l_i_b/_f_c_1           1 проход при ключе --ff
       /_l_i_b/_c_2            необязательный оптимизатор
       /_l_i_b/_c_r_t_0._o        динамический стартер
       /_l_i_b/_m_c_r_t_0._o       стартер для профилирования
       /_l_i_b/_f_c_r_t_0._o       стартер для ключа --ff
       /_l_i_b/_l_i_b_b_a_s_e_c._a    часть   стандартной    библиотеки,
                          работающая  только  в базовом сег-
                          менте текста
       /_l_i_b/_l_i_b_c._a        стандартная библиотека  (псевдоар-
                          хив)
       /_l_i_b/_l_i_b_j_o_b_s._a     пустая библиотека;  оставлена  для
                          совместимости
       /_l_i_b/_l_i_b_o_v_c._a      стандартная библиотека  (псевдоар-
                          хив)
       /_l_i_b/_l_i_b_o_v_j_o_b_s._a   пустая библиотека;  оставлена  для
                          совместимости
       /_l_i_b/_l_i_b_s_p_l_i_t_c._a   часть   стандартной    библиотеки,
                          работающая  и в базовом, и в овер-
                          лейном сегментах текста
       /_u_s_r/_i_n_c_l_u_d_e       стандартный  каталог  для   файлов
                          ##iinncclluuddee

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _c_d_e_b(1), _p_r_o_f(1), _a_d_b(1), _l_d(1), _m_m(1)



                            -4-                      ДЕМОС/P


CC(1)                  ДЕМОС. Команды                  CC(1)


       Имеется отдельное описание языка Си.

ДДИИААГГННООССТТИИККАА
       Диагностические сообщения, генерируемые самим  компи-
       лятором Си, являются достаточно понятными.  В некото-
       рых случаях сообщения могут генерироваться  ассембле-
       ром или редактором связей.

ЗЗААММЕЕЧЧААННИИЯЯ
       В настоящее время Си-компилятор различает имена пере-
       менных  по  127 символам (при записи в объектный файл
       имена внешних переменных обрезаются  до  7-ми  симво-
       лов).  В старых версиях компилятора имена различались
       по первым 8-ми символам.














































                            -5-                      ДЕМОС/P

