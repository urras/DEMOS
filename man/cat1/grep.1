
GREP(1)                ДЕМОС. Команды                GREP(1)


ИИММЯЯ
       ggrreepp, eeggrreepp, ffggrreepp - поиск в файле по шаблону.

ФФООРРММААТТ
       ggrreepp [_к_л_ю_ч...] _в_ы_р_а_ж_е_н_и_е [_ф_а_й_л...]
       eeggrreepp [_к_л_ю_ч...] [_в_ы_р_а_ж_е_н_и_е] [_ф_а_й_л...]
       ffggrreepp [_к_л_ю_ч...] [_с_т_р_о_к_и] [_ф_а_й_л...]

ООППИИССААННИИЕЕ
       Команды семейства ggrreepp осуществляют  поиск  строк  во
       входных  файлах  (по  умолчанию  - стандартный ввод),
       соответствующих шаблону. Обычно  каждая  обнаруженная
       строка   копируется   в  стандартный  вывод.  Шаблоны
       команды ggrreepp представляют собой ограниченные регуляр-
       ные  выражения  по  типу  используемых  в команде eedd.
       Используется компактный недетерминированный алгоритм.
       Шаблоны  команды  eeggrreepp  являются полными регулярными
       выражениями. Эта команда использует быстрый  детерми-
       нированный  алгоритм  и иногда требует экспоненциаль-
       ного пространства. Шаблонами команды  ffggrreepp  являются
       фиксированные строки; она является быстрой и компакт-
       ной. Распознаются следующие ключи:

       --vv  Печатаются все строки, кроме соответствующих шаб-
           лону.

       --xx  Печатаются только строки, целиком  (точно)  соот-
           ветствующие шаблону (только eeggrreepp и ffggrreepp).

       --cc  Печатается только счетчик соответствующих строк.

       --ll  Печатаются имена файлов (по одному разу), в кото-
           рых  имеются  соответствующие строки, разделенные
           символами новой строки.

       --nn  Каждой строке предшествует ее относительный номер
           в файле.

       --bb  Каждой строке предшествует номер блока  (размером
           1024  байта),  в  котором  она  была найдена. Это
           иногда полезно для  нахождения  номеров  дисковых
           блоков по их содержанию.

       --yy  При сравнении игнорируется регистр символов, т.е.
           верхний  и  нижний регистры считаются одинаковыми
           (только ggrreepp).

       --ss  Немой режим. Ничего не печатается (за исключением
           сообщений  об  ошибках). Это полезно для проверки
           ошибочного состояния.

       --ee _в_ы_р_а_ж_е_н_и_е
           То же, что и просто  параметр  _в_ы_р_а_ж_е_н_и_е,  однако
           полезно в тех случаях, когда _в_ы_р_а_ж_е_н_и_е начинается
           с '--'.

       --ff _ф_а_й_л
           Регулярное выражение  (eeggrreepp)  или  список  строк


                            -1-                     ДЕМОС/PV


GREP(1)                ДЕМОС. Команды                GREP(1)


           (ffggrreepp) берутся из файла _ф_а_й_л.

       --hh  Не печатаются имена файлов.

       Во всех случаях имя файла изображается так, как будто
       имеется  более одного входного файла. Требуется осто-
       рожность при использовании в _в_ы_р_а_ж_е_н_и_и символов  '$$',
       '**',  '[[', '^^', '!!', '((', '))', '\\', так как они явля-
       ются значимыми и для командного языка  SSHHEELLLL.   Самым
       надежным способом является заключение всего _в_ы_р_а_ж_е_н_и_я
       в апострофы ''...''.

       Команда ffggrreepp ищет строки, которые содержат  одну  из
       последовательностей символов _с_т_р_о_к_и (разделенных сим-
       волами новой строки).

       Команда eeggrreepp  работает  с  расширенными  регулярными
       выражениями.  В  следующем описании понятие _с_и_м_в_о_л не
       включает в себя символ новой строки:

           Символ '\\', за которым следует одиночный  символ,
           отличающийся  от символа новой строки, соответст-
           вует этому символу. Символ '^^'  ('$$')  соответст-
           вует началу (концу) строки. Символ '..' соответст-
           вует любому символу.  Одиночный символ, не  имею-
           щий  специального  значения,  соответствует этому
           символу.

           Строка символов, заключенная в квадратные  скобки
           '[[ ]]', соответствует любому одиночному символу из
           этой строки.  Группы символов  кода  КОИ-8  могут
           быть  сокращенно  обозначены  в  виде  a-z0-9а-я.
           Символ ']]' может встречаться  только  в  качестве
           первого символа строки.  Литерал '--' может распо-
           лагаться только в тех местах,  где  он  не  может
           быть спутан с указателем диапазона символов.

           Регулярное выражение, за которым стоит символ '**'
           ('++',  '??') соответствует последовательности из 0
           или более (1 или более, 0 или 1)  совпадений  для
           этого регулярного выражения.

           Два последовательно записанных регулярных выраже-
           ния  соответствуют  совпадению  для  первого,  за
           которым следует совпадение для второго.

           Два регулярных  выражения,  разделенные  символом
           '||'  или символом новой строки, приводят к поиску
           строк, соответствующих либо первому, либо второму
           выражению.

           Регулярное  выражение,  заключенное   в   круглые
           скобки,  соответствует  строкам,  содержащим  это
           регулярное выражение.

       Порядок старшинства операций на одном и том же уровне
       скобок  следующий: '[[ ]]', затем '**', '++' и '??', затем
       конкатенация, затем '||' и символ новой строки.


                            -2-                     ДЕМОС/PV


GREP(1)                ДЕМОС. Команды                GREP(1)


ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _e_d(1), _s_e_d(1), _s_h(1)

ДДИИААГГННООССТТИИККАА
       Код возврата равен:

       0  - если соответствия были найдены;
       1  - если соответствия не были обнаружены;
       2  - если имеется  синтаксическая  ошибка  или  файлы
            недоступны.

ЗЗААММЕЕЧЧААННИИЯЯ
       В идеальном  случае  должна  была  быть  только  одна
       команда  ggrreepp,  однако  неизвестен единственный алго-
       ритм,  который  характеризуется  достаточно   хорошим
       отношением память/время.

       Команда ggrreepp обрабатывает файлы с  длиной  строки  до
       4 Кбайт.









































                            -3-                     ДЕМОС/PV

