
COMPRESS(1)            ДЕМОС. Команды            COMPRESS(1)


ИИММЯЯ
       ccoommpprreessss, uunnccoommpprreessss, zzccaatt -  упаковка  и  распаковка
       файлов

ФФООРРММААТТ
       ccoommpprreessss [--dd] [--ff] [--FF] [--qq] [--cc] [--bb _b_i_t_s] [_ф_а_й_л...]
       uunnccoommpprreessss [--ff] [--qq] [--cc] [_ф_а_й_л...]
       zzccaatt [_ф_а_й_л...]

ООППИИССААННИИЕЕ
       Команда  ccoommpprreessss  упаковывает  указанные  файлы  или
       стандартный  ввод.   Каждый  файл замещается файлом с
       расширением  ._Z,  но  только  если  упакованный  файл
       меньше исходного.  Если файлы не указаны, то упаковы-
       вается стандартный ввод и результат упаковки  записы-
       вается  в стандартный вывод.  Упакованные файлы могут
       быть восстановлены в исходном виде  с  помощью  ключа
       --dd, или вызовом по имени uunnccoommpprreessss (ссылка (link) на
       ccoommpprreessss), для файлов с расширением ._Z или  стандарт-
       ного ввода.

       Если выходной файл существует, то запись в него  про-
       изводится  только при наличии ключа --ff.  Если ключ --ff
       не указан и ccoommpprreessss выполняется не в фоновом режиме,
       то запрашивается разрешение на запись в файл.

       При вызове с ключом --FF все файлы замещаются файлами с
       расширением  ._Z, даже если файл в результате упаковки
       не уменьшился.

       Если заданы имена файлов, то код владельца (если опе-
       рация выполняется суперпользователем), коды доступа и
       времена доступа и модификации сохраняются между  фай-
       лом  и  его ._Z версией.  В этом смысле ccoommpprreessss может
       быть использована для архивных  целей,  не  производя
       побочных последствий для mmaakkee(1) после распаковки.

       Ключ    --cc     заставляет     результаты     операции
       упаковки/распаковки  выдавать  в  стандартный  вывод;
       файлы  не  изменяются.   Команда  zzccaatt  есть  синоним
       команды  uunnccoommpprreessss с ключом --cc (все файлы распаковы-
       ваются и записываются в стандартный вывод).

       Команда ccoommpprreessss использует модифицированный алгоритм
       Лемпеля-Зива  (Lempel-Ziv),  описанный  в  статье  "A
       Technique for  High  Performance  Data  Compression",
       Terry  A.  Welch,  _I_E_E_E  _C_o_m_p_u_t_e_r  Vol 17, No 6 (June
       1984), pp 8-19.  Общие подстроки файла в начале заме-
       щаются  9-ти битовыми кодами 257 и выше.  По достиже-
       нии кода 512 алгоритм переключается на 10-ти  битовые
       коды  и продолжает использовать все больше битов пока
       не достигнет предела _b_i_t_s, указанного ключом  --bb  (по
       умолчанию  16  для  32-разрядных  машин  и 10 для 16-
       разрядных).  Предел _b_i_t_s должен быть между 9 и 16.

       После достижения предела _b_i_t_s  ccoommpprreessss  периодически
       проверяет  коэффициент  упаковки.  Если он увеличива-
       ется,  то  ccoommpprreessss  продолжает  использовать   коды,


                            -1-                     ДЕМОС/PV


COMPRESS(1)            ДЕМОС. Команды            COMPRESS(1)


       найденные  ранее  в  файле.  Однако, если коэффициент
       упаковки падает, то ccoommpprreessss очищает таблицу подстрок
       и строит ее заново.  Это позволяет алгоритму подстро-
       иться к очередному "куску" файла.

       В начале файла записывается  двухбайтовое  магическое
       число,  которое позволяет избежать распаковки случай-
       ного текста или повторной упаковки  уже  упакованного
       текста.   Дополнительно  в  файл  записывается предел
       _b_i_t_s, использовавшийся при работе ccoommpprreessss, что  поз-
       воляет не указывать ключ --bb для uunnccoommpprreessss.

       Достигаемый размер упаковки зависит от размера исход-
       ного  файла,  предела _b_i_t_s и распределения символьных
       подстрок.  Обычно текстовые файлы,  такие  как  прог-
       раммы  на  языке  Си, уменьшаются на 50-60%.  В общем
       случае упаковка значительно лучше,  чем  та,  которая
       достижима  с помощью адаптивного кодирования Хаффмана
       (Huffman), используемого в команде ccoommppaacctt, и требует
       меньше времени.

       После упаковки каждого  файла  выдается  сообщение  о
       степени  упаковки  исходного файла.  Выдачу сообщения
       можно отменить, указав ключ --qq.

       Нормальный код завершения  равен  0;  если  последний
       файл  после  упаковки  стал больше, то код завершения
       равен 2; при наличии ошибок код завершения равен 1.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _c_o_m_p_a_c_t(1)

ДДИИААГГННООССТТИИККАА
       Usage: compress [-dfFqc] [-b maxbits] [file ...]
               В командной строке  был  указан  неправильный
               режим работы.
       Missing maxbits
               После ключа --bb должно быть указано максималь-
               ное число используемых битов для упаковки.
       Unknown flag: '_x';
               В командной строке были указаны  неправильные
               ключи.
       _f_i_l_e: not in compressed format
               Файл с именем _f_i_l_e не упакован.
       _f_i_l_e: compressed with _x_x bits,  can  only  handle  _y_y
       bits
               Файл с именем  _f_i_l_e  был  упакован  командой,
               которая  использовала  _x_x бит для упаковки, а
               вызванная команда может обработать только  _y_y
               бит.
       _f_i_l_e: already has .Z suffix -- no change
               Файл с именем _f_i_l_e уже  имеет  суффикс  ".Z".
               Переименуйте файл и попытайтесь снова.
       _f_i_l_e: filename too long to tack on .Z
               Файл с именем _f_i_l_e нельзя упаковать, так  как
               его  имя длинней 12 символов.  Переименуйте и
               попытайтесь снова.
       _f_i_l_e already exists; do you wish to overwrite  (y  or


                            -2-                     ДЕМОС/PV


COMPRESS(1)            ДЕМОС. Команды            COMPRESS(1)


       n)?
               Файл с именем _f_i_l_e уже существует;  если  его
               можно стереть, то ответьте "y", иначе "n".
       _f_i_l_e:
               Этот фрагмент  сообщения  выдается  в  начале
               упаковки файла с именем _f_i_l_e.
       Compression: _x_x._x_x%
               Этот фрагмент сообщения указывает коэффициент
               упаковки исходного файла.
       -- not a regular file: unchanged
               Этот фрагмент сообщения выдается, когда вход-
               ной файл не является обычным файлом.  Входной
               файл не изменяется.
       -- has _x_x other links: unchanged
               Этот фрагмент сообщения  выдается,  когда  на
               исходный  файл  есть  дополнительные  ссылки.
               Исходный файл не изменяется.   Дополнительная
               информация в _l_n(1).
       -- file unchanged
               Этот фрагмент сообщения выдается, когда  упа-
               ковка   не  дает  уменьшения  размера  файла.
               Исходный файл не изменяется.
       -- replaced with _f_i_l_e
               Этот  фрагмент  выдается  в  случае  успешной
               упаковки/распаковки.



































                            -3-                     ДЕМОС/PV

