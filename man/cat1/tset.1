
TSET(1)                ДЕМОС. Команды                TSET(1)


ИИММЯЯ
       ttsseett, rreesseett - установить режимы терминала.

ФФООРРММААТТ
       ttsseett [--] [--hhrrssnnAAIIQQSS] [--ii[_с_и_м.]] [--qq[_с_и_м.]]
       [--ee[_с_и_м.]] [--EE[_с_и_м.]] [--kk[_с_и_м.]]
       [--mm [_л_и_н_и_я][_п_р_о_в_е_р_к_а]::_т_е_р_м.] [_т_е_р_м.]

ООППИИССААННИИЕЕ
       ttsseett устанавливает  терминально-зависимые  параметры,
       такие  как: задержки, символы редактирования вводимой
       строки, флаги терминального драйвера, и  т.  п.   При
       этом  используется  информация  из файлов /_e_t_c/_t_t_y_s и
       /_e_t_c/_t_e_r_m_c_a_p.

       Тип терминала задается  в  аргументе  _т_е_р_м.  Описание
       этого   терминала   должно   присутствовать  в  файле
       /_e_t_c/_t_e_r_m_c_a_p.  Если тип терминала не задан, использу-
       ется значение переменной стандартного окружения TTEERRMM,
       за исключением тех случаев, когда указан ключ --hh  или
       один  из  аргументов  ключа --mm.  Тогда тип терминала,
       соответствующего устройству, с которым  связан  деск-
       риптор   стандартного  файла  сообщений  об  ошибках,
       ищется в файле /_e_t_c/_t_t_y_s.  Если и в этом случае  опи-
       сание не найдено, типу терминала присваивается значе-
       ние uunnkknnoowwnn.

       Устройства,  терминальный  тип  которых  неопределен,
       описаны в /_e_t_c/_t_t_y_s как ddiiaalluupp, uunnkknnoowwnn, pplluuggbbooaarrdd, и
       т. п.  Пользователь может задать назначение  реальных
       типов терминалов этим именам. Это делается при помощи
       ключа --mm, за  которым  следует  идентификатор  _л_и_н_и_я,
       возможная  _п_р_о_в_е_р_к_а  скорости, и тип _т_е_р_м. терминала,
       присваимого в том случае, если удовлетворены  условия
       назначения. Если указаны несколько назначений подряд,
       вополняется первое верное. Опущенная  _л_и_н_и_я  означает
       все  имена.   Скорость  указывается  также,  как  и в
       _s_t_t_y(1), и сравнивается со скоростью канала стандарт-
       ного  файла  вывода  сообщений  об ошибках.  _П_р_о_в_е_р_к_а
       представляет собой комбинацию символов >>, ==, <<, @@,  и
       !!  (здесь  @@  синоним  для  ==,  а !! - отрицание). При
       работе с интерпретаторами команд _s_h(1), _c_s_h(1)  необ-
       ходимо экранировать эти символы.

       Если тип терминала после :: начинается  с  символа  ??,
       реальный  тип  запрашивается  у пользователя. Если он
       отвечает пустой посылкой, устанавливается  тип,  ука-
       занный  за  ??.  Иначе, устанавливается введенный тип.
       Знак ?? в случае использования _s_h(1) или _c_s_h(1)  необ-
       ходимо экранировать.

       Чаще всего вызов ttsseett включается в файл  ._l_o_g_i_n  (для
       _c_s_h(1))  или ._p_r_o_f_i_l_e (для _s_h(1)) и выполняется авто-
       матически при входе пользователя в систему, с  указа-
       нием  при  ключе --mm наиболее часто используемого типа
       терминала.




                            -1-                     ДЕМОС/PV


TSET(1)                ДЕМОС. Команды                TSET(1)


       Имя rreesseett это ссылка на ttsseett.  При вызове rreesseett  про-
       изводится  попытка  восстановить  состояние терминала
       (например, после сбоя в экранном режиме). При этом, в
       частности,  выдаются строка и файл отмены инициализа-
       ции терминала, а кодам, редактирующим строку присваи-
       ваются значения по умолчанию (см.  _t_t_y(4)).

ККЛЛЮЮЧЧИИ
       --ee[_с_и_м.]
              Этот ключ задает код _с_и_м.   стирания  предыду-
              щего  символа  во  вводимой  строке.  Если код
              _с_и_м. опущен или не указаны ни ключ --ee, ни ключ
              --EE (см. далее), коду стирания предыдушего сим-
              вола присваивается значение DDEELL.

       --EE[_с_и_м.]
              Этот ключ делает то же, что и --ee, но  работает
              только на терминалах где есть клавиша возврата
              на шаг, и присваивает коду  стирания  предыду-
              шего символа ее значение.

       --kk[_с_и_м.]
              Этот ключ задает  код  _с_и_м.   отмены  вводимой
              строки.   Если  код  _с_и_м. опущен или не указан
              ключ --kk, коду отмены строки присваивается зна-
              чение CCTTRRLL-UU.

       --ii[_с_и_м.]
              Этот ключ задает код _с_и_м.,  по  которому  про-
              цессу    посылается    сигнал    SSIIGGIINNTT   (см.
              _s_i_g_n_a_l(2)).  Если код _с_и_м. опущен или не  ука-
              зан   ключ  --ii,  коду  присваиваится  значение
              CCTTRRLL-CC.

       --qq[_с_и_м.]
              Этот ключ задает код _с_и_м.,  по  которому  про-
              цессу    посылается    сигнал   SSIIGGQQUUIITT   (см.
              _s_i_g_n_a_l(2)).  Если код _с_и_м. опущен или не  ука-
              зан   ключ  --qq,  коду  присваиваится  значение
              CCTTRRLL-\\.  Во всех этих ключах код  может  зада-
              ваться  в  виде  ^^_X, где _X - большая латинская
              буква, что эквивалентно CCTTRRLL-_X.

       --      По этому  ключу  тип  терминала  печатается  в
              стандартный   файл   вывода,  что  может  быть
              использовано для определения типа терминала:

                     sseett tteerrmm = `ttsseett --`

              Если других ключей при этом не  указано,  ttsseett
              работает  в _б_ы_с_т_р_о_м режиме и выдает только тип
              терминала, пропуская остальные действия.

       --hh     При задании этого  ключа  значение  переменной
              стандартного  окружения  TTEERRMM  не используется
              для определения типа, и ttsseett ищет тип сразу  в
              файле /_e_t_c/_t_t_y_s.



                            -2-                     ДЕМОС/PV


TSET(1)                ДЕМОС. Команды                TSET(1)


       --ss     По этому ключу в стандартный файл вывода выда-
              ются  для  установки  переменных  стандартного
              окружения TTEERRMM и TTEERRMMCCAAPP команды sseetteennvv,  если
              в переменной стандартного окружения SSHHEELLLL ука-
              зан ccsshh, или команды eexxppoorrtt, если  указан  sshh.
              При использовании ключа --ss в _s_h(1) наберите:

                   ttsseett --ss ...... > _t_s_e_t._t_m_p
                   .. _t_s_e_t._t_m_p
                   rrmm _t_s_e_t._t_m_p

              При использовании ключа --ss в _c_s_h(1) наберите:

                   ttsseett --ss ...... > _t_s_e_t._t_m_p
                   ssoouurrccee _t_s_e_t._t_m_p
                   rrmm _t_s_e_t._t_m_p

       --SS     Для _s_h(1), ключ работает аналогично --ss, а  для
              _c_s_h(1)  выдает  в  стандартный файл вывода две
              строки, которые удобно  использовать  в  файле
              ._l_o_g_i_n следующим образом:

                   sseett nnoogglloobb
                   sseett _t_d_e_s_c = (`ttsseett --SS ......`)
                   sseett tteerrmm = $_t_d_e_s_c[1]
                   sseetteennvv TTEERRMMCCAAPP "$_t_d_e_s_c[2]"
                   uunnsseett _t_d_e_s_c nnoogglloobb

       --rr     При задании  этого  ключа  название  терминала
              выдается  в  стандартный файл вывода сообщений
              об ошибках.

       --QQ     Ключ подавляет сообщения о значении кодов сти-
              рания  символа  во  вводимой  строке  и отмены
              строки.

       --II     Если задан этот ключ, на терминал не  выдаются
              инициализирующие строка и файл.

       --AA     Если задан этот ключ, ttsseett всегда  запрашивает
              тип терминала.

       --mm     Ключ задает назначение типа терминала и обычно
              применяется   для   указания   наиболее  часто
              используемого  терминала.   Формат  аргументов
              ключа  --mm и работа с ним описаны в начале этой
              статьи.

       --nn     Ключ устанавливает новую дисциплину обслужива-
              ния  терминала (см.  _t_t_y(4)), что позволяет, в
              частности, использовать гибкий механизм  зада-
              ния  символов  редактирования вводимой строки.
              Ключ обычно не используется, т. к. новая  дис-
              циплина обслуживания терминала всегда установ-
              лена.

ППРРИИММЕЕРРЫЫ
       ttsseett _v_t_5_2


                            -3-                     ДЕМОС/PV


TSET(1)                ДЕМОС. Команды                TSET(1)


       Устанавливает терминальный тип _v_t_5_2.

       ttsseett --mm _d_i_a_l_u_p>>300::_a_d_m_3_a --mm _d_i_a_l_u_p::_d_w_2 --QQrr --ee

       Если описанию в /_e_t_c/_t_t_y_s соответствует _d_i_a_l_u_p и ско-
       рость  обмена больше чем 300 бод, установить тип тер-
       минала _a_d_m_3_a.  Если скорость _d_i_a_l_u_p меньше или  равна
       300 бод, установить тип терминала _d_w_2.  Коду стирания
       предыдущего символа во вводимой строке  присваивается
       значение  DDEELL  и на стандартный вывод ошибок выдается
       информация о типе терминала и не выдается о  назначе-
       ниях кодов.

       ttsseett --mm _d_i_a_l::_t_i_7_3_3 --mm _p_l_u_g::??_h_p_2_6_2_1 --mm _u_n_k_n_o_w_n::?? --ee --kk^_U

       Если описанию в  /_e_t_c/_t_t_y_s  соответствует  _d_i_a_l,  тип
       терминала  становится _t_i_7_3_3, если _p_l_u_g, ttsseett печатает
       сообщение:

              TTEERRMM = (_h_p_2_6_2_1)

       Можно ввести другой тип, если он отличается от этого.
       Если описанию в /_e_t_c/_t_t_y_s соответствует _u_n_k_n_o_w_n, ttsseett
       печатает сообщение:

              TTEERRMM = (_u_n_k_n_o_w_n)

       В любом случае коду стирания предыдущего  символа  во
       вводимой  строке  присваивается  значение  DDEELL,  коду
       отмены строки - значение CCTTRRLL-UU, и в стандартный файл
       вывода сообщений об ошибках будет напечатана информа-
       ция об этом.

ФФААЙЙЛЛЫЫ
       /_e_t_c/_t_e_r_m_c_a_p  описание возможностей терминалов.
       /_e_t_c/_t_t_y_s     описание начальных установок линий.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _t_t_y(4), _t_e_r_m_c_a_p(5), _s_t_t_y(1), _s_h(1), _c_s_h(1),  _t_t_y_s(5),
       _s_i_g_n_a_l(2)




















                            -4-                     ДЕМОС/PV

