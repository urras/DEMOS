
DD(1)                  ДЕМОС. Команды                  DD(1)


ИИММЯЯ
       dddd - преобразовать и скопировать файл.

ФФООРРММААТТ
       dddd [_к_л_ю_ч=_з_н_а_ч_е_н_и_е]...

ООППИИССААННИИЕЕ
       Команда dddd копирует заданный входной файл в  заданный
       выходной  файл  с  возможными  преобразованиями.   По
       умолчанию используются стандартный файл ввода и стан-
       дартный  файл  вывода.  Может быть задан размер блока
       при вводе и выводе, чтобы  использовать  преимущества
       прямого физического ввода-вывода.

       _П_а_р_а_м_е_т_р            _З_н_а_ч_е_н_и_е

       iiff=_и_м_я   Имя входного файла (если этот ключ  отсутст-
                вует, используется стандартный файл ввода).

       ooff=_и_м_я   Имя выходного файла (если этот ключ отсутст-
                вует, используется стандартный файл вывода).

       iibbss=_n    Устанавливает размер блока при вводе  равным
                _n байт (по умолчанию - 512).

       oobbss=_n    Устанавливает размер блока при выводе равным
                _n байт (по умолчанию - 512).

       bbss=_n     Устанавливает размер блока  как  для  ввода,
                так  и  для  вывода, отменяя iibbss и oobbss. Осо-
                бенно эффективен, если не задано  преобразо-
                вание (нет ключа ccoonnvv).

       ccbbss=_n    Размер буфера преобразования.

       sskkiipp=_n   Пропускает _n входных записей  перед  началом
                копирования.

       sskkiippss=_n  То же, что и sskkiipp,  но  записи  пропускаются
                операцией llsseeeekk.

       ffiilleess=_n  Пропускает _n входных  файлов  перед  началом
                копирования.

       sseeeekk=_n   Пропускает _n  записей  от  начала  выходного
                файла перед копированием.

       ccoouunntt=_n  Копирует только _n входных записей.

       ddeellaayy=_n  Устанавливает задержку перед запросом  физи-
                ческого ввода/вывода в _n секунд.

       ccoonnvv=... или ccoonnvv=...,...
                Этот параметр устанавливает тип преобразова-
                ния  или несколько преобразований, разделен-
                ных запятой.




                            -1-                     ДЕМОС/PV


DD(1)                  ДЕМОС. Команды                  DD(1)


                ttrriimm или rrttrriimm
                        Выполняет обрезание пробелов в конце
                        строки; длина строк считается равной
                        ccbbss.

                ppaadd или rrffiillll
                        Выполняет дополнение строк пробелами
                        до  ccbbss,  удаляет  символы  перевода
                        строки.

                llccaassee   Преобразует  алфавитные  символы   в
                        нижний регистр.

                uuccaassee   Преобразует  алфавитные  символы   в
                        верхний регистр.

                sswwaabb    Переставляет каждую пару байтов.

                nnooeerrrroorr Не прекращает обработку при  обнару-
                        жении ошибки чтения.

                ssyynncc    Дополняет каждую входную  запись  до
                        размера iibbss.

                _t_o...   Выполняет преобразование в указанный
                        код из внутреннего кода операционной
                        системы (обычно это КОИ-8, но  может
                        быть и U-код).

                _f_r_o_m... Выполняет преобразование во внутрен-
                        ний код ОС из указанного кода.

                        ttoouuccooddee/ffrroommuuccooddee
                           Выполняет преобразование  в  (из)
                           U-код из (в) КОИ-8.
                        ttooddkkooii/ffrroommddkkooii
                           Выполняет преобразование  в  (из)
                           ДКОИ.
                        ttooiibbmm
                           Несколько отличающееся преобразо-
                           вание  в ДКОИ (обратного преобра-
                           зования нет).
                        ffrroommiinnmmooss
                           Преобразование    из    кодировки
                           ИНМОС-16.1, при этом буквы "шщэч"
                           играют  роль   символов    "{}|~"
                           соответственно  (обратного преоб-
                           разования нет).
                        ttooaallttppcc/ffrroommaallttppcc
                           Преобразование в  (из)  альтерна-
                           тивную кодировку для IBM PC.
                        ttookkooii77/ffrroommkkooii77
                           Преобразование в (из) КОИ-7  (при
                           преобразовании  в  КОИ-7 теряется
                           разница между  верхним  и  нижним
                           регистрами).




                            -2-                     ДЕМОС/PV


DD(1)                  ДЕМОС. Команды                  DD(1)


       Там, где определяются размеры, предполагается  указа-
       ние  числа байтов. Число может оканчиваться символами
       kk, bb или ww, что означает умножение на 1024, 512 или 2
       соответственно;  для  обозначения  произведения  пара
       чисел может разделяться символом 'xx'.

       Параметр  ccbbss=_n  используется  только  тогда,   когда
       заданы  преобразования  ttrriimm или ppaadd. В первом случае
       _c_b_s символов помещаются в буфер преобразования,  зак-
       лючительные  пробелы отбрасываются и добавляется сим-
       вол новой строки. Во втором случае символы КОИ-8 счи-
       тываются  в буфер преобразования и дополняются пробе-
       лами, чтобы получить выходную запись размером _c_b_s.

       После завершения  dddd  сообщает  количество  полных  и
       неполных введенных и выведенных блоков.

ППРРИИММЕЕРР
       Следующая команда переписывает  ленту  ДКОИ,  которая
       содержит  по  десять  80-байтных  образов карт ДКОИ в
       блоке, в файл с именем _x:

       dddd iiff=/_d_e_v/_r_m_t_0 ooff=_x iibbss=800 ccbbss=80 ccoonnvv=ffrroommddkkooii,llccaassee

       Обратите внимание на  использование  небуферизирован-
       ного обмена с магнитной лентой (_r_m_t). Команда dddd осо-
       беннно подходит для небуферизированного ввода-вывода,
       так  как позволяет считывать и записывать записи про-
       извольного размера.

ФФААЙЙЛЛЫЫ
       /_l_i_b/_c_o_d_e_s   каталог с файлами перекодировок

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _c_p(1), _t_r(1)

ДДИИААГГННООССТТИИККАА
       _f+_p records in (out) (_f+_p записей введено (выведено))
                            - количество полных (ff) и непол-
                            ных  (pp)  считанных (выведенных)
                            записей

ЗЗААММЕЕЧЧААННИИЯЯ
       Таблицы   перекодировок    находятся    в    каталоге
       /_l_i_b/_c_o_d_e_s.  Можно добавлять свои таблицы перекодиро-
       вок. Файл, в котором находится таблицы перекодировок,
       назван  тем  же  именем,  что  и код, с которым нужно
       работать  (например,  для  преобразований  ttooddkkooii   и
       ffrroommddkkooii  используется  файл  /_l_i_b/_c_o_d_e_s/_d_k_o_i).  Этот
       файл можно подготовить, описав его в виде инициализи-
       рованного  байтового  массива  на  Си и скомпилировав
       (обязательно выполните команду  ssttrriipp  на  полученный
       объектный  файл).   В  начале массива должны быть 256
       байтов таблицы для преобразования в _к_о_д, затем -  256
       байтов для преобразования из _к_о_д_а.





                            -3-                     ДЕМОС/PV

