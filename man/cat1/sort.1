
SORT(1)                ДЕМОС. Команды                SORT(1)


ИИММЯЯ
        ssoorrtt - сортировка и слияние файлов

ФФООРРММААТТ
        ssoorrtt [--mmuuccbbddffiinnrrzz] [--tt_с_и_м_в_о_л]
             [+_п_о_з_1 [-_п_о_з_2]]...
             [--oo _ф_а_й_л] [--TT _к_а_т_а_л_о_г] [_ф_а_й_л]...

ООППИИССААННИИЕЕ
        Команда ssoorrtt сортирует совместно строки всех указан-
        ных файлов и записывает результат в стандартный файл
        вывода.  Если входные файлы не  заданы  (или  указан
        ключ  --),  сортируется  информация  из  стандартного
        файла ввода.

        По  умолчанию  при  сортировке  рассматривается  вся
        строка.   Стандартным  порядком  сортировки является
        алфавитный (для букв русского и латинского алфавита)
        и лексикографический побайтный в соответствии с чис-
        ленными значениями кодов КОИ-8 (для  всех  остальных
        символов).   Для изменения правил сортировки исполь-
        зуется ключ, который может содержать следующие  сим-
        волы:

        bb       Игнорировать ведущие пробелы и символы табу-
                ляции при сравнении полей.

        dd       "Словарный порядок": при сравнении  учитыва-
                ются только буквы, цифры и пробелы.

        ff       Не различать строчные и прописные буквы.

        ii       Игнорировать символы КОИ-8 с кодами вне диа-
                пазонов  040-0176  и 0300-0376 при текстовых
                сравнениях.

        nn       Строки, начинающиеся  с  чисел  (возможно  с
                предшествующими  пробелами),  сортируются по
                арифметическому значению. Ключ nn  подразуме-
                вает установку ключа bb.

        rr       Изменить порядок сортировки на обратный.

        tt_x      "Символом  табуляции",   разделяющим   поля,
                является символ _x.

        zz       Сортировать в соответствии с численным  зна-
                чением байтов.

        Запись "+_п_о_з_1 -_п_о_з_2" определяет часть строки,  кото-
        рая рассматривается при сортировке. Сортировка начи-
        нается с позиции _п_о_з_1 и заканчивающимся перед  пози-
        цией  _п_о_з_2.  Каждый  из параметров _п_о_з_1 и _п_о_з_2 имеет
        вид _m._n, после чего могут следовать  один  или  нес-
        колько  ключей  bbddffiinnrr, причем _m означает количество
        полей,  которое  должно  быть  пропущено  с   начала
        строки,  а  _n  означает количество символов, которое
        должно быть пропущено после этого. Если присутствуют


                            -1-                     ДЕМОС/PV


SORT(1)                ДЕМОС. Команды                SORT(1)


        какие-либо флаги, они отменяют глобальные ключи упо-
        рядочивания для данной части строки. Если  действует
        ключ  bb,  nn  отсчитывается  от первого (отличного от
        пробела) символа поля; bb  добавляется  независимо  к
        _п_о_з_2.  Отсутствие  строки.  При  наличии  ключа  --tt_x
        полями считаются последовательности символов, разде-
        ляемые символом _x, если ключ --tt_x не задан в качестве
        полей рассматриваются последовательности отличных от
        пробелов символов, разделенные пробелами.

        Если имеются несколько ключей сортировки,  последую-
        щие ключи сравниваются только после того, как преды-
        дущие ключи оказались  равны.  Строки,  которые  при
        сравнении  оказались равны, упорядочиваются с учетом
        всех байтов.

        Распознаются также следующие необязательные ключи:

        --cc      Проверить, является ли входной файл отсорти-
                рованным  в соответствии с заданными  прави-
                лами упорядочивания; выдает  код  завершения
                0,  если  файл  уже  сортирован, и ненулевой
                код, если не отсортирован.

        --mm      Только слияние, входные файлы уже отсортиро-
                ваны.

        --oo      Следующий параметр  представляет  собой  имя
                выходного  файла,  который  должен использо-
                ваться  вместо  стандартного  файла  вывода.
                Этот файл может совпадать с одним из входных
                файлов.

        --TT      Следующий параметр  представляет  собой  имя
                каталога,  в котором должны создаваться вре-
                менные файлы.

        --uu      Из каждой группы одинаковых  строк  оставить
                только  одну. Игнорируемые байты и байты вне
                ключей не участвуют в сравнении.

ППРРИИММЕЕРРЫЫ
        Выдать в алфавитном порядке все  различные  слова  в
        файле  _с_п_и_с_о_к. Слова с прописными буквами отличаются
        от слов со строчными буквами.

                ssoorrtt --uu ++00ff ++00 _с_п_и_с_о_к

        Выдать содержимое файла /_e_t_c/_p_a_s_s_w_d, отсортированное
        по  номерам идентификаторов пользователей (третье из
        разделенных двоеточиями полей):

                ssoorrtt --tt:: ++22nn /_e_t_c/_p_a_s_s_w_d

        Выдать первое вхождение каждого месяца в уже  отсор-
        тированном  файле  (_d_a_t_e_s). Ключи --uumm с единственным
        входным файлом обеспечивают выбор  представителя  из
        каждой группы одинаковых строк.


                            -2-                     ДЕМОС/PV


SORT(1)                ДЕМОС. Команды                SORT(1)


                ssoorrtt --uumm ++00 --11 _d_a_t_e_s

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _u_n_i_q(1), _c_o_m_m(1), _r_e_v(1), _j_o_i_n(1)

ДДИИААГГННООССТТИИККАА
        Выдается сообщение и ненулевой код возврата при раз-
        личных  ошибочных ситуациях и при неупорядоченности,
        обнаруженной при наличии ключа --cc.

ЗЗААММЕЕЧЧААННИИЯЯ
        Слишком длинные строки (длиннее 512 байт)  усекаются
        без предупреждения.















































                            -3-                     ДЕМОС/PV

