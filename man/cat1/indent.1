
INDENT(1)              ДЕМОС. Команды              INDENT(1)


ИИММЯЯ
       iinnddeenntt - форматирование текстов программ.

ФФООРРММААТТ
       iinnddeenntt _в_х__ф_а_й_л [_в_ы_х__ф_а_й_л] [_к_л_ю_ч_и]

ООППИИССААННИИЕЕ
       Команда iinnddeenntt предназначена для  приведения  текстов
       программ,  написанных  на  языке  C,  в удобочитаемую
       форму.  Делается попытка  преобразовать  текст  прог-
       раммы таким образом, чтобы строка текста содержала не
       более одного оператора или выражения.  Перед  частями
       сложных выражений разного уровня вложенности вставля-
       ется соответствующее число пробелов. В зависимости от
       режимов работы команды iinnddeenntt обрабатываются описания
       переменных и комментарии.

       Режим работы команды  iinnddeenntt  управляется  следующими
       ключами:

       _в_х__ф_а_й_л   Имя файла, содержащего текст программы.

       _в_ы_х__ф_а_й_л  Имя файла, в который помещается результиру-
                 ющий  текст.   Если  этот  параметр опущен,
                 исходный текст программы будет переписан  в
                 файл с именем ._B_в_х__ф_а_й_л, а результат работы
                 iinnddeenntt - в  файл  _в_х__ф_а_й_л.   Например,  для
                 файла  с  именем  /_u_s_r/_s_u/_t_s_t._c копия будет
                 записана  под  именем  ._B_t_s_t._c  (в  текущем
                 каталоге!).

       --ll_N_N_N     Задание максимальной длины строки в  выход-
                 ном  файле.   Если  после  обработки  длина
                 строки все же превышает _N_N_N символов, выда-
                 ется  предупредительное  сообщение. Команда
                 iinnddeenntt никогда не  разбивает  константны  и
                 сложные выражения на несколько строк.

       --cc_N_N_N     Комментарии, располагающиеся в одной строке
                 с  операторами,  будут  сдвинуты  в позицию
                 _N_N_N.

       --ccdd_N_N_N    Комментарии, располагающиеся в одной строке
                 с  описаниями  переменных, будут сдвинуты в
                 позицию _N_N_N.

       --ii_N_N_N     При переходе на следующий  уровень  вложен-
                 ности   текст  сдвигается  на  _N_N_N  позиций
                 вправо.

       --ddjj, --nnddjj Размещение описаний.  Если задан ключ  --ddjj,
                 все  описания  переменных  размещаются  с 1
                 позиции.   В  режиме  --nnddjj  они  сдвигаются
                 вправо соответственно уровню вложенности.

       --vv, --nnvv   Подробная диагностика.  Если задан ключ --vv,
                 команда iinnddeenntt сообщает номера строк, кото-
                 рые были автоматически разбиты, и  в  конце


                            -1-                     ДЕМОС/PV


INDENT(1)              ДЕМОС. Команды              INDENT(1)


                 работы    выдает   краткую   статистическую
                 справку  о   степени   откомментированности
                 обработанной  программы.  Ключ --nnvv отменяет
                 этот режим.

       --bbcc, --nnbbcc Форматирование описаний.  Если  задан  ключ
                 --bbcc, каждый идентификатор в описании разме-
                 щается на отдельной строке. Ключ --nnbbcc отме-
                 няет этот режим.

       --dd_N_N_N     Комментарии, располагающиеся  на  отдельных
                 строках,   будут  смещены  на  _N_N_N  уровней
                 влево.

       --bbrr, --bbll  Если  задан  ключ  --bbll,  сложные  выражения
                 оформляются следующим образом:

                        iiff(...)
                        {
                            _к_о_м_а_н_д_ы
                        }

                 Ключ --bbrr меняет стиль оформления на:

                        iiff (...) {
                            _к_о_м_а_н_д_ы
                        }

       По умолчанию команда iinnddeenntt выполняется в режиме:

              --ll75 --cc33 --ccdd33 --ii4 --nnddjj --nnvv --bbcc --dd0 --bbrr

       Если команда iinnddeenntt была запущена без единого  ключа,
       из  файла ~/._i_n_d_e_n_t._p_r_o (если, конечно, такой сущест-
       вует в регистрационном каталоге пользователя)  считы-
       вается  строка  длиной не более 127 символов, которая
       должна содержать  список  управляющих  ключей.  Ключи
       разделяются символами _п_р_о_б_е_л и _т_а_б_у_л_я_ц_и_я.

       ММннооггооссттррооччнныыее ввыырраажжеенниияя

       Хотя команда iinnddeenntt сама не разбивает сложные выраже-
       ния,  она достаточно правильно обрабатывает конструк-
       ции вида:

              _x =
                  (
                      (_л_ю_б_о_е _в_ы_р_а_ж_е_н_и_е _в _к_р_у_г_л_ы_х _с_к_о_б_к_а_х)
                      +
                      (
                          (_в_ы_р_а_ж_е_н_и_е _в _к_р_у_г_л_ы_х _с_к_о_б_к_а_х)
                          *
                          (_в_ы_р_а_ж_е_н_и_е _в _к_р_у_г_л_ы_х _с_к_о_б_к_а_х)
                      )
                  );





                            -2-                     ДЕМОС/PV


INDENT(1)              ДЕМОС. Команды              INDENT(1)


       ККооммммееннттааррииии

       Команда iinnddeenntt распознает  и  обрабатывает  несколько
       стилей оформления комментариев.

       Если сразу за  признаком  комментария  следует  дефис
       (//**--),  каждая строка такого комментария будет остав-
       лена без изменений за исключением  того,  что  первый
       символ каждой следующей строки размещается под симво-
       лом '//' первой строки комментария.

       Если  многострочный  комментарий  начинается  строкой
       '//**',  первый символ каждой следующей строки размеща-
       ется под символом '**' первой строки.

       Все комментарии, начинающиеся с первой позиции, пере-
       носятся в выходной файл без каких-либо изменений.

       При обработке всех  остальных  комментариев  делается
       попытка разместить на строке максимальное число слов,
       разделенных  символами  табуляции,  пробела  и  новой
       строки.  Комментарии,  расположенные в одной строке с
       командами, смещаются на позицию, заданную ключем --cc.

ФФААЙЙЛЛЫЫ
       ~/._i_n_d_e_n_t._p_r_o  файл установок режимов
       ._B*            копии  исходных  текстов  обработанных
                      программ

ЗЗААММЕЕЧЧААННИИЯЯ
       Некорректно форматируются  описания  типа  ttyyppeeddeeff  и
       lloonngg.

       Изощренное использование операторов типа ##iiffddeeff преп-
       роцессора  Си-компилятора  может  сбить  с толку кого
       угодно.
























                            -3-                     ДЕМОС/PV

