
MORE(1)                ДЕМОС. Команды                MORE(1)


ИИММЯЯ
       mmoorree, ppaaggee - просмотр файлов.

ФФООРРММААТТ
       mmoorree [--ccddeeCCssttwwmmMMqqQQuuUU] [--hh_n] [--bb[ffpp]_n] [--xx_n]
            [++_к_о_м_а_н_д_а] [_ф_а_й_л...]
       ppaaggee [_к_л_ю_ч...] [_ф_а_й_л...]

ООППИИССААННИИЕЕ
       Программа mmoorree предназначена для просмотра  текстовых
       файлов.  Поскольку во время старта mmoorree не буферизует
       входной файл целиком, для больших файлов она стартует
       быстрее,  чем  текстовые редакторы, например, rreedd(1).
       Для настройки на терминал  mmoorree  использует  _t_e_r_m_c_a_p,
       поэтому  она  может работать на различных терминалах,
       включая телетайпы.  В последнем  случае  той  строке,
       которая  обычно отображается вверху экрана, на печати
       предшествует стрелка-вверх (up-arrow).

ККООММААННДДЫЫ
       hh   Вывести общий список команд.

       Некоторым  командам,  вводимым  с  клавиатуры,  может
       предшествовать  десятичное число, которое далее обоз-
       начается как _n.  В  справке,  выдаваемой  по  команде
       "hh", эти команды отмечены "*".

       <_п_р_о_б_е_л> или ff
           Продвинуть экран вперед на _n строк (по  умолчанию
           на  один  экран).  Если _n больше, чем один экран,
           то отображен будет только один полный экран.

       bb   Продвинуть экран назад на _n строк (по умолчанию -
           один  экран).   Если  _n  больше,  чем один экран,
           отображен будет только один полный экран.

       <_п_е_р_е_в_о_д _с_т_р_о_к_и> или ee или jj
           Движение вперед  на  _n  строк  (по  умолчанию  на
           одну).  Если _n больше размера экрана, будут отоб-
           ражаться все _n строк.

       yy или kk
           Аналогично jj, но продвигает экран назад.  Если  _n
           больше  размера  экрана, будут отображаться все _n
           строк.

       dd   Движение вперед на _n строк (по умолчанию на  10).
           Если  указано  _n, устанавливается новое умолчание
           для команд dd и uu.

       uu   Движение назад на _n строк (по умолчанию  на  10).
           Если  указано  _n, устанавливается новое умолчание
           для команд dd и uu.

       rr   Перевыдать текущий экран.

       RR   Перевыдать  экран  с  обновлением  буфера  ввода.
           Используется,   если   файл  изменялся  во  время


                            -1-                      ДЕМОС/P


MORE(1)                ДЕМОС. Команды                MORE(1)


           просмотра.

       gg   Перейти к _n-той строке файла,  по  умолчанию  _n=1
           (начало  файла).   (Учтите:  при  большом _n, воз-
           можно, придется долго ждать).

       GG   Перейти к _n-той строке файла, по  умолчанию  -  в
           конец   файла.   (Для  стандартного  ввода  может
           выполняться медленно, кроме  случая,  когда  файл
           уже прочитан в буфер).

       pp или %%
           Перейти к _n-той части файла; _n указывается в про-
           центах от 0 до 100.  (Можно использовать для про-
           читанного стандартного ввода, если  файл  целиком
           попал  в буфер.  В этом режиме команда pp работает
           быстро, но не всегда правильно).

       mm   Следующая за командой любая  маленькая  латинская
           буква помечает текущую позицию.

       ''   Возврат к позиции, помеченной маленькой латинской
           буквой,  следующей  после  команды.   Все пометки
           стираются при переходе к новому файлу.

       //_ш_а_б_л_о_н
           Поиск вперед до _n-го вхождения _ш_а_б_л_о_н_а.  По умол-
           чанию  _n=1.   Шаблон  является регулярным выраже-
           нием, аналогичным шаблонам редактора  eedd.   Поиск
           начинается  со второй видимой строки (можно изме-
           нить строку начала  поиска,  см.  описание  ключа
           --tt).

       ??_ш_а_б_л_о_н
           Поиск назад до  _n-го  вхождения  _ш_а_б_л_о_н_а.   Поиск
           начинается со строки, непосредственно предшеству-
           ющей первой, отображенной на экране.

       nn   Повторить предыдущий поиск  до  _n-того  вхождения
           последнего шаблона.

       EE [_и_м_я__ф_а_й_л_а...]
           Перейти  к  новому  файлу.    Если   не   вводить
           _и_м_я__ф_а_й_л_а, mmoorree возвращается к просмотру текущего
           файла, иначе переходит к указанному списку файлов
           (см. команды NN и PP).

       NN   Перейти к следующему файлу  из  списка  файлов  в
           командной  строке.   Число  _n перед командой осу-
           ществляет переход к _n-тому по порядку файлу.

       PP   Перейти к предыдущему файлу.  Если  задано  число
           _n, произойдет переход к _n-тому предыдущему файлу.

       ==   Печать имени отображаемого файла  и  смещения  от
           начала   (в   байтах)  для  верхней  отображаемой
           строки.  Если можно, печатается также длина файла
           и процент части файла, находящейся выше последней


                            -2-                      ДЕМОС/P


MORE(1)                ДЕМОС. Команды                MORE(1)


           отображаемой строки.

       --_к_л_ю_ч
           За знаком '--' следует один  из  ключей  командной
           строки  (описание  ключей  команды mmoorree приведено
           ниже), Значение  ключа  будет  изменяться  цикли-
           чески,  после исполнения этой команды в командной
           строке  mmoorree  будет  отображено  новое   значение
           режима.

       qq   Выход из mmoorree.

       vv   Вызов  экранного  редактора  для   редактирования
           отображаемого файла.  Имя редактора задается мак-
           ропеременной  среды  EEDDIITTOORR,  по  умолчанию   это
           /_b_i_n/_r_e_d.

       !!_к_о_м_а_н_д_а
           Запускает  интерпретатор  командного  языка   для
           выполнения указанной _к_о_м_а_н_д_ы системы.

ККЛЛЮЮЧЧИИ
       Ниже описаны ключи команды mmoorree.

       Ключи команды  mmoorree,  используемые  пользователем  по
       умолчанию,  можно  установить в макропеременной среды
       MMOORREE; эти ключи будут обрабатываться  перед  разбором
       командной  строки.   Кроме того, ключи можно изменять
       после вызова mmoorree посредством команды  --.   Например,
       чтобы не вводить каждый раз "mmoorree --mm ...", при вызове
       mmoorree для получения короткой подсказки, можно  набрать
       команду в ccsshh:

       sseetteennvv MMOORREE --mm

       или для sshh:

       MMOORREE=--mm; eexxppoorrtt MMOORREE

       --ss       Ключ --ss заставляет mmoorree выводить одну пустую
                строку вместо последовательности из несколь-
                ких пустых строк.  Это полезно при просмотре
                форматированных документов.

       --tt       Обычно поиск вперед  начинается  непосредст-
                венно  после  текущей строки (второй видимой
                на экране), т.е. в область поиска включаются
                и  видимые  строки.   Ключ  --tt устанавливает
                начало поиска непосредственно  после  нижней
                видимой  на экране строки, пропуская то, что
                видно на экране.

       --mm       Обычно mmoorree выдает подсказку, содержащую имя
                файла  и  процент просмотренной части файла.
                Ключ --mm устанавливает режим печати приглаше-
                ния в виде одного двоеточия.

       --MM       Ключ   --MM   приводит   к   выводу   длинного


                            -3-                      ДЕМОС/P


MORE(1)                ДЕМОС. Команды                MORE(1)


                приглашения,  содержащего значения длин пол-
                ного файла и его уже просмотренной части.

       --qq       Обычно  при  попытке  просмотра  ниже  конца
                файла  или выше его начала на терминал выда-
                ется звуковой  сигнал.   Ключ  --qq  запрещает
                выдачу сигнала в таких ситуациях.  Если тер-
                минал имеет "визуальный сигнал", то в  таких
                случаях он будет использоваться всегда.

       --QQ       Предыдущий ключ не блокирует выдачу  сигнала
                при  других  ошибках,  таких,  например, как
                ввод неверного символа.  Ключ  --QQ  полностью
                отключает   сигнал,  как  если  бы  терминал
                вообще не имел возможности гудеть.  При воз-
                можности  будет  использоваться  "визуальный
                сигнал".

       --ee       Обычно программа mmoorree завершает  работу  при
                обнаружении  конца  файла.   После установки
                ключа --ee она  будет  завершаться  только  по
                команде qq.

       --uu       Если задан ключ --uu, символ "_в_о_з_в_р_а_т _н_а  _ш_а_г"
                (CCTTRRLL//HH) обрабатывается как печатный символ,
                т.е. передается на терминал без преобразова-
                ний.

       --UU       Если задан ключ --UU, "_в_о_з_в_р_а_т _н_а _ш_а_г" печата-
                ется  в  виде  пары  символов "^^HH".  Если не
                заданы ни --uu, ни --UU, возврат на шаг,  вместе
                с примыкающим к нему символом подчеркивания,
                обрабатывается специальным образом: подчерк-
                нутый  текст  отображается  с использованием
                возможностей терминала.

       --ww       Обычно mmoorree показывает  строки  после  конца
                файла  как  пустые.   Ключ  --ww устанавливает
                режим, при котором mmoorree  будет  использовать
                тильду  для  отображения  строк  после конца
                файла.

       --dd       Обычно программа mmoorree не работает на  прими-
                тивных терминалах; ей нужны для работы такие
                возможности   терминала,   как   способность
                очистки  экрана  или  обратного роллирования
                экрана.  Флаг  --dd  подавляет  эти  проверки,
                заставляя  mmoorree  подстраиваться  под возмож-
                ности терминала.

       --cc       Обычно mmoorree заполняет  экран  сдвигом  снизу
                вверх.  Если задан ключ --cc, то при изменении
                всего  экрана  он  очищается  и  заполняется
                сверху  вниз.  Вызов ppaaggee - это то же самое,
                что mmoorree --cc.

       --hh_n      Обычно  перемещение  назад  mmoorree   реализует
                обратным   роллированием  экрана.   Ключ  --hh


                            -4-                      ДЕМОС/P


MORE(1)                ДЕМОС. Команды                MORE(1)


                указывает  максимальное  число   строк   для
                обратного  роллирования.   Если  потребуется
                переместиться на большее число строк,  экран
                перерисовывается   в   прямом   направлении.
                (Если терминал не способен  делать  обратное
                роллирование, подразумевается --hh0).

       --xx_n      Ключ  --xx  устанавливает  табуляции  через  _n
                позиций.  По умолчанию _n=8.

       --bb[ffpp]_n  Ключ --bb устанавливает для mmoorree нестандартные
                размеры  буферов.   Стандартно  используется
                два буфера разной длины,  один  используется
                для  чтения  файлов (5 блоков по 1024 байт),
                другой - для чтения из межпроцессного канала
                (12  блоков).   Число  _n  задает  количество
                используемых блоков.  После --bb может  следо-
                вать  ff для указания числа блоков буфера для
                файлов или pp - для межпроцессного канала.  В
                противном случае изменяются оба размера.

       --CC       Обычно при чтении данных mmoorree  выводит  сим-
                волы  в том виде, в котором они присутствуют
                в просматриваемом файле.  По ключу --CC  вклю-
                чается  режим,  при котором mmoorree преобразует
                неграфические  символы  в  пару  графических
                (нулевой байт преобразуется в символ "@@"); в
                этом режиме mmoorree работает несколько  медлен-
                нее.

       ++        После символа ++ указывается команда, которая
                будет выполнена при запуске mmoorree.  Например,
                ++GG заставит mmoorree  начать  просмотр  с  конца
                файла, а ++//_x_y_z запустит mmoorree с первой строки
                файла, содержащей  "_x_y_z".   Как  специальный
                случай,  ++_ч_и_с_л_о  эквивалентно  ++_ч_и_с_л_оgg;  при
                этом экран  будет  установлен  на  указанную
                строку  (особенности  команды gg прочтите еще
                раз).  Если ключ начинается с ++++, то инициа-
                лизирующая  команда  применяется  к  каждому
                отображаемому файлу, а не только к первому.

ФФААЙЙЛЛЫЫ
       /_e_t_c/_t_e_r_m_c_a_p  файл описания терминалов
       /_b_i_n/_r_e_d      редактор, вызываемый по умолчанию
       /_b_i_n/_s_h       интерпретатор команд

ЗЗААММЕЕЧЧААННИИЯЯ
       Если читается стандартный ввод (перед чтением файла),
       можно  переместиться  назад  только  на  ограниченную
       величину, определяемую размером буфера.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _c_a_t(1), _e_d(1)






                            -5-                      ДЕМОС/P

