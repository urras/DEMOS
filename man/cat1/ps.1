
PS(1)                  ДЕМОС. Команды                  PS(1)


ИИММЯЯ
        ppss - состояние процессов.

ФФООРРММААТТ
        ppss [aaccggkkllnnrrttuuwwxxUU# [ _c_o_r_e [ _s_w_a_p [ _s_y_s_t_e_m ]]]]

ООППИИССААННИИЕЕ
        Команда ppss выдает информацию по  активным  процессам
        системы.    Форма   и  содержание  протокола  работы
        команды определяется набором ключей, которые пользо-
        ватель  выбирает  по  собственному  усмотрению.  Для
        тех, кто не желает напрягать свою фантазию, заметим,
        что  для получения полной информации часто использу-
        ется сочетание ppss aaxxllww,  а  для  получения  быстрого
        снимка  состояния  команда  -  ppss aauu.  Перед ключами
        можно ставить (или не  ставить)  знак  --.   Значения
        ключей:

        aa       Выдавать информацию по всем процессам с тер-
                миналами  (обычно выдается информация только
                о процессах пользователя, запустившего ppss).

        cc       В поле CCOOMMMM выдается только  имя  файла,  из
                которого  был запущен процесс, без предшест-
                вующих имен каталогов.

        gg       Выдается информация по всем процессам.   Без
                этого  ключа  ppss выдает информацию только по
                "интересным" процессам.   Процесс  считается
                неинтересным,   если   он  является  ведущим
                группы процессов,  или  если  его  аргументы
                начинаются  с --.  При этом обычно не показы-
                ваются внешние интерпретаторы команд и  про-
                цессы обслуживания терминалов (ggeettttyy).

        kk       Вместо файлов /_d_e_v/_k_m_e_m и /_d_e_v/_m_e_m использу-
                ется  файл  /_u_s_r/_s_y_s/_c_o_r_e.  Это используется
                при посмертной отладке системы.

        ll       Длинная выдача.  В короткой выдаче  указыва-
                ется  имя  пользователя,  идентификатор про-
                цесса, терминал, суммарное время работы про-
                цесса и как приблизительно выглядела команд-
                ная строка.

        nn       Выдается численное, а не символьное значение
                WWCCHHAANN.  Этот ключ используется в сочетании с
                ключом ll.

        rr       В стандартный файл вывода пишется последова-
                тельность  структур.  Каждая структура соот-
                ветствует одному процессу,  формат  структур
                задается  в /_u_s_r/_i_n_c_l_u_d_e/_p_s_o_u_t._h.  Поскольку
                эта информация не пригодна для просмотра  на
                терминале,  подразумевается  ее  последующая
                обработка.

        tt_и_м_я__т_е_р_м_и_н_а_л_а


                            -1-                      ДЕМОС/P


PS(1)                  ДЕМОС. Команды                  PS(1)


                Выдача информации о процессах, имя управляю-
                щего  терминала  которых совпадает с указан-
                ным.  Имя задается в той  форме,  в  которой
                его  выдает ppss, в том числе tt?? для процессов
                без терминала.  Этот ключ должен  быть  пос-
                ледним.

        uu       Выдача в "пользовательском"  формате.   Сюда
                входит  выдача имени пользователя, идентифи-
                катора процесса, приоритета, размера,  имени
                терминала,  использованного  времени процес-
                сора и выполняемая команда.

        ww       По  умолчанию  подразумевается,  что  ширина
                экрана  терминала - 80 позиций.  Ключ ww ука-
                зывает, что используется терминал со строкой
                не менее 132 символов.  От этого ключа зави-
                сит количество символов при выводе командной
                строки.   Ключ  ww  можно повторять (например
                wwww), что приведет к  выводу  всей  командной
                строки (до 128 символов), не взирая на длину
                строки терминала.

        xx       Разрешает выдачу информации о процессах,  не
                использующих терминалы.

        UU       Обновление базы данных ppss по  ядру  системы.
                Команда   ppss  UU  обычно  включается  в  файл
                /_e_t_c/_r_c.

        #       Число, соответствующее  идентификатору  про-
                цесса.   В  этом  случае информация выдается
                только по этому процессу.  Этот ключ  должен
                быть последним.

        Второй аргумент (_c_o_r_e) имеет смысл при задании ключа
        kk.   Он указывает, где искать файл с образом системы
        (вместо /_u_s_r/_s_y_s/_c_o_r_e).  Третий аргумент (_s_w_a_p) ука-
        зывает имя файла подкачки (по умолчанию используется
        /_d_e_v/_s_w_a_p).  Если задан четвертый аргумент (_s_y_s_t_e_m),
        из него берется таблица имен ядра (по умолчанию - из
        /_d_e_m_o_s).

        Выдача упорядочивается сначала по именам терминалов,
        потом по идентификаторам процессов.

        Длинная выдача содержит следующие колонки:

        FF       Флаги процесса.  Значения флагов  определены
                в файле /_u_s_r/_i_n_c_l_u_d_e/_s_y_s/_p_r_o_c._h.

        SS       Состояние процесса.  _0:  не  существует;  _S:
                спит;  _W:  ждет; _R: выполняется; _I: промежу-
                точное состояние; _Z: завершен;  _T:  приоста-
                новлен.

        UUIIDD     Идентификатор владельца процесса.



                            -2-                      ДЕМОС/P


PS(1)                  ДЕМОС. Команды                  PS(1)


        PPIIDD     Идентификатор процесса;

        PPPPIIDD    Идентификатор процесса, породившего данный.

        CCPPUU     Индекс использования процессора.

        PPRRII     Приоритет процесса (чем  больше  число,  тем
                ниже приоритет).

        NNIICCEE    Значение пользовательского приоритета.

        AADDDDRR    Адрес размещения памяти  процесса  в  памяти
                или на диске.

        SSZZ      Размер памяти процесса в блоках (512 байт).

        WWCCHHAANN   Адрес канала или имя данных структуры  ядра,
                по которому производится ожидание.  Если это
                поле содержит пробелы, то процесс активен.

        TTTTYY     Управляющий терминал процесса.

        TTIIMMEE    Суммарное  процессорное  время  работы  про-
                цесса.

        CCOOMMMMAANNDD Команда, которой запущен процесс, и ее пара-
                метры.

        Если процесс закончился, но "родитель" его не  ждет,
        он  помечается как <_d_e_f_u_n_c_t>.  Для получения имени и
        параметров команды  исследуется  образ  памяти  про-
        цесса.   Но поскольку сам процесс может изменять эту
        информацию, догадкам ppss особо верить не стоит.

ФФААЙЙЛЛЫЫ
        /_d_e_m_o_s          для получения таблицы имен
                        ядра системы;
        /_d_e_v/_k_m_e_m       память ядра;
        /_d_e_v/_s_w_a_p       устройство подкачки;
        /_u_s_r/_s_y_s/_c_o_r_e   образ системы;
        /_d_e_v            для определения устройства подкачки
                        и имен терминалов;
        /_e_t_c/_p_s_d_a_t_a_b_a_s_e база данных ppss.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _k_i_l_l(1), _w(1), _p_s_t_a_t(8)

ЗЗААММЕЕЧЧААННИИЯЯ
        Во время работы ppss ситуация может меняться,  поэтому
        выдаваемая  информация только отчасти отражает теку-
        щее состояние системы.

        Некоторые процессы  (обычно  находящиеся  в  фоновом
        режиме)  выдаются  без аргументов или с испроченными
        аргументами, даже если они  в  памяти.   (Иногда  ppss
        теряет даже свои собственные аргументы!) В этом слу-
        чае имя команды выдается в скобках.



                            -3-                      ДЕМОС/P

