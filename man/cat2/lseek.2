
LSEEK(2)          ДЕМОС. Системные вызовы           LSEEK(2)


ИИММЯЯ
       llsseeeekk - установка указателя чтения/записи.

ФФООРРММААТТ
       #iinncclluuddee <_s_y_s/_t_y_p_e_s._h>
       #iinncclluuddee <_s_y_s/_f_c_n_t_l._h>

       lloonngg llsseeeekk(_f_d, _o_f_f_s_e_t, _w_h_e_n_c_e)
       iinntt _f_d, _w_h_e_n_c_e;
       lloonngg _o_f_f_s_e_t;

ООППИИССААННИИЕЕ
       Системный вызов  llsseeeekk  изменяет  значение  указателя
       чтения/записи  дескриптора _f_d.  Параметр _w_h_e_n_c_e может
       принимать следующие значения:

       LL__SSEETT  Указателю  присваивается  значение   параметра
              _o_f_f_s_e_t.

       LL__IINNCCRR Значение указателя увеличивается  на  значение
              _o_f_f_s_e_t.

       LL__XXTTNNDD Указателю  присваивается  значение  (_o_f_f_s_e_t  +
              _f_s_i_z_e), где _f_s_i_z_e - размер файла.

       Следует отметить, что если  установить  указатель  за
       конец файла, а затем записать что-либо, в файле полу-
       чается  промежуток,  который  физически  не  занимает
       места, а при чтении дает нули.

ЗЗННААЧЧЕЕННИИЕЕ
       В случае успешного завершения вызов llsseeeekk  возвращает
       текущее   значение   указателя  (целое  положительное
       число), определяющее  смещение  в  байтах  от  начала
       файла. При возникновении ошибки возвращается значение
       -1 и код ошибки в переменной eerrrrnnoo.  Если llsseeeekk  выз-
       ван  с  неверным  ненулевым параметром _w_h_e_n_c_e то про-
       цессу посылается сигнал SSIIGGSSYYSS (см. _s_i_g_n_a_l(2)).

ККООДДЫЫ ООШШИИББООКК
       При  неудачном  завершении  системного  вызова  llsseeeekk
       переменная eerrrrnnoo может принимать следующие значения:

       [[EEBBAADDFF]]     Некорректный дескриптор файла.

       [[EESSPPIIPPEE]]    Дескриптор относится  не  к  файлу,  а  к
                   межпроцессному каналу.

       [[EEIINNVVAALL]]    В результате выполнения  данной  операции
                   указатель   чтения/записи  может  принять
                   отрицательное значение.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _d_u_p(2), _o_p_e_n(2)

ЗЗААММЕЕЧЧААННИИЯЯ
       Данная операция не имеет смысла для некоторых  специ-
       альных   файлов  (терминалы,  печатающие  устройства,


                            -1-                     ДЕМОС/PV


LSEEK(2)          ДЕМОС. Системные вызовы           LSEEK(2)


       линии связи).  Значение указателя  чтения/записи  для
       них не определено.


























































                            -2-                     ДЕМОС/PV

