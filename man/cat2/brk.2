
BRK(2)            ДЕМОС. Системные вызовы             BRK(2)


ИИММЯЯ
       bbrrkk, ssbbrrkk - динамический захват памяти.

ФФООРРММААТТ
       _b_r_e_a_k = bbrrkk (_a_d_d_r)
       ccaaddddrr__tt _b_r_e_a_k, _a_d_d_r;

       _a_d_d_r = ssbbrrkk (_i_n_c_r)
       ccaaddddrr__tt _a_d_d_r;
       iinntt _i_n_c_r;

ООППИИССААННИИЕЕ
       Оба системных вызова предназначены для изменения раз-
       мера  области  данных,  доступных  текущему процессу.
       Размер области данных определяется наибольшим адресом
       (_b_r_e_a_k),  который  доступен  процессу.   При  попытке
       обращения по адресам, значения которых превышают зна-
       чение _b_r_e_a_k и меньше адреса начала стека данного про-
       цесса, фиксируется ошибка адресации.

       Системный вызов bbrrkk устанавливает в качестве значения
       _b_r_e_a_k значение _a_d_d_r.

       Системный вызов ssbbrrkk увеличивает область данных  про-
       цесса  на  _i_n_c_r  байт и возвращает адрес начала новой
       области.

       При запуске программы  с  помощью  системного  вызова
       _e_x_e_c_v_e(2),  значение _b_r_e_a_k соответствует самому стар-
       шему адресу, определяемому областями команд и данных.

ЗЗННААЧЧЕЕННИИЕЕ
       Если не удается установить новый размер области  дан-
       ных, возвращается значение -1 и код ошибки в перемен-
       ной eerrrrnnoo.

ККООДДЫЫ ООШШИИББООКК
       При неудачном завершении переменная  eerrrrnnoo  принимает
       значение [[EENNOOMMEEMM]] по одной из следующих причин:


       - Превышается установленное ограничение на максималь-
         ный размер сегмента данных.


       - Превышается  максимально  возможный  размер  памяти
         процесса (задается при генерации).


       - Не хватает объема области подкачки.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _e_x_e_c_v_e(2), _m_a_l_l_o_c(3), _e_n_d(3)

ЗЗААММЕЕЧЧААННИИЯЯ
       Отсутствие места в  области  подкачки,  как  правило,
       является временной ситуацией.



                            -1-                     ДЕМОС/PV


BRK(2)            ДЕМОС. Системные вызовы             BRK(2)


       На машинах типа  СМ-4  установка  значения  _b_r_e_a_k  от
       0177701 до 0177777 аналогична установке в 0.

       Следует отметить, что на  машинах  типа  СМ-4/СМ-1420
       значение  _b_r_e_a_k  устанавливается  с  точностью  до 64
       байт, а на машинах типа СМ-1700 - с точностью до  512
       байт.

       Используя ssbbrrkk при вызове следует проверять, не выхо-
       дит  ли сумма текущего значения _b_r_e_a_k и смещения _i_n_c_r
       за пределы адресного пространства.

















































                            -2-                     ДЕМОС/PV

