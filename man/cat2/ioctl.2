
IOCTL(2)          ДЕМОС. Системные вызовы           IOCTL(2)


ИИММЯЯ
       iiooccttll - управление режимами ввода/вывода.

ФФООРРММААТТ
       #iinncclluuddee <_s_y_s/_i_o_c_t_l._h>

       iiooccttll( _f_d, _r_e_q_u_e_s_t, _a_r_g_p )
       iinntt  _f_d, _r_e_q_u_e_s_t;
       cchhaarr *_a_r_g_p;

ООППИИССААННИИЕЕ
       Системный вызов iiooccttll предназначен для смены  режимов
       ввода/вывода  или  выполнения  специфицеских операций
       при работе с файлами (к числу  таких  операций  можно
       отнести, например, перемотку магнитной ленты в начало
       или управление режимами  работы  терминального  драй-
       вера).

       Параметр _f_d является дескриптором файла, над  которым
       проводится  операция,  _r_e_q_u_e_s_t задает тип операции, а
       _a_r_g_p является  указателем  на  список  дополнительных
       аргументов.   Вызов  iiooccttll  проверяет, является ли _f_d
       дескриптором открытого файла,  тип  запроса  и  соот-
       ветствие   размера   структуры  (_a_r_g_p)  типу  запроса
       (_r_e_q_u_e_s_t).   Если  эти  требования   удовлетворяются,
       iiooccttll  просто  вызывает  нужную  программу управления
       устройством.

       Существует два запроса, действие которых  распростра-
       няется на все типы файлов:

              iiooccttll(_f_d, FFIIOOCCLLEEXX, NULL);
              iiooccttll(_f_d, FFIIOONNCCLLEEXX, NULL);

       Первый запрос  приводит  к  автоматическому  закрытию
       файла  с  дескриптором  _f_d после успешного выполнения
       системного вызова _e_x_e_c_v_e(2).  Второй запрос  отменяет
       этот режим.

ЗЗННААЧЧЕЕННИИЕЕ
       Если вызов прошел успешно, возвращается 0.   Значение
       -1 выдается в случае ошибки.

ККООДДЫЫ ООШШИИББООКК
       При неудачном завершении eerrrrnnoo может принимать следу-
       ющие значения:

       [[EEBBAADDFF]]     Задан некорректный дескриптор.

       [[EENNOOTTTTYY]]    Дескриптор _f_d  не  является  дескриптором
                   байторентированного специального файла.

       [[EENNOOTTTTYY]]    Данный тип запроса не обслуживается драй-
                   вером.

       [[EEIINNVVAALL]]    Некорректный  запрос  или  размер  списка
                   аргументов.



                            -1-                     ДЕМОС/PV


IOCTL(2)          ДЕМОС. Системные вызовы           IOCTL(2)


ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _e_x_e_c_v_e(2), _f_c_n_t_l(2), _o_p_e_n(2), _t_m(4), _t_t_y(4)


























































                            -2-                     ДЕМОС/PV

