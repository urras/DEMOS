
PROFIL(2)         ДЕМОС. Системные вызовы          PROFIL(2)


ИИММЯЯ
       pprrooffiill - сбор статистики по использованию команд про-
       цессора.

ФФООРРММААТТ
       pprrooffiill (_b_u_f_f, _b_u_f_s_i_z, _o_f_f_s_e_t, _s_c_a_l_e)
       cchhaarr *_b_u_f_f;
       uunnssiiggnneedd _b_u_f_s_i_z, _o_f_f_s_e_t, _s_c_a_l_e;

ООППИИССААННИИЕЕ
       Массив _b_u_f_f представляет собой область памяти размера
       _b_u_f_s_i_z  (в  байтах).  В  результате вызова с частотой
       системных  часов  просматривается  значение  счетчика
       команд  (ppcc).   Из получаемого значения ppcc вычитается
       величина смещения _o_f_f_s_e_t и  результат  умножается  на
       величину  коэффициента  масштабирования  _s_c_a_l_e.  Если
       результирующее число меньше  _b_u_f_s_i_z,  то  значение  в
       соответствующей  ячейке массива _b_u_f_f увеличивается на
       единицу.

       Коэффициент  масштабирования   интерпретируется   как
       беззнаковая  дробь  с  фиксированной точкой (двоичная
       точка располагается слева): 0177777 отображает значе-
       ния  счетчика команд в ячейки массива _b_u_f_f в масштабе
       1:1; значение 077777 отображает сразу по две команды;
       02 отображает все команды в начало _b_u_f_f.

       Сбор статистики  прекращается,  если  значение  _s_c_a_l_e
       равно  0.   Сбор  статистики  прекращается  также при
       смене программы (см.   _e_x_e_c_v_e(2)).   В  то  же  время
       после  вызова  _f_o_r_k(2) сбор статистики продолжается в
       обоих процессах.  Кроме того, сбор  статистики  может
       быть прерван, если в результате обновления какой-либо
       ячейки массива _b_u_f_f происходит переполнение целого.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _m_o_n_i_t_o_r(3)























                            -1-                     ДЕМОС/PV

