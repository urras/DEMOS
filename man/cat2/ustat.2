
USTAT(2)          ДЕМОС. Системные вызовы           USTAT(2)


ИИММЯЯ
       uussttaatt - информация о свободном месте в файловой  сис-
       теме.

ФФООРРММААТТ
       #iinncclluuddee <_s_y_s/_t_y_p_e_s._h>
       #iinncclluuddee <_u_s_t_a_t._h>

       uussttaatt(_d_e_v, _u_b_u_f)
       ddeevv__tt _d_e_v;
       ssttrruucctt uussttaatt *_u_b_u_f;

ООППИИССААННИИЕЕ
       Системный вызов uussttaatt возвращает в структуру

       ssttrruucctt uussttaatt {
               ddaaddddrr__tt ff__ttffrreeee;
               iinnoo__tt   ff__ttiinnooddee;
               cchhaarr    ff__ffnnaammee[12];
               cchhaarr    ff__ffppaacckk[6];
       };

       значения следующих полей, описывающих состояние  фай-
       ловой системы на устройстве _d_e_v:

       ff__ttffrreeee     Количество свободных  блоков  в  файловой
                   системе. Подразумеваются блоки по 1 кило-
                   байту.

       ff__ttiinnooddee    Количество свободных индексных узлов.

       ff__ffnnaammee     Каталог, к которому примонтирована файло-
                   вая система.

       ff__ffppaacckk     Уникальное имя тома.

ЗЗННААЧЧЕЕННИИЕЕ
       Возвращается 0 при успехе, или (-1) в случае  ошибки.
       При  неудачном  завершении  системного  вызова  uussttaatt
       переменная eerrrrnnoo может принимать следующие значения:

       [[EEIINNVVAALL]]    Устройство _d_e_v не существует или не  при-
                   монтировано.

       [[EEFFAAUULLTT]]    Адрес структуры _u_b_u_f лежит вне  адресного
                   пространства процесса.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _m_o_u_n_t(2), _l_a_b_e_l(8), _f_i_l_s_y_s(_5).

ЗЗААММЕЕЧЧААННИИЯЯ
       Данный  системный  вызов  не   вполне   совместим   с
       системой-5 по смыслу полей ff__ffnnaammee и ff__ffppaacckk.







                            -1-                      ДЕМОС/P

