
CHMOD(2)          ДЕМОС. Системные вызовы           CHMOD(2)


ИИММЯЯ
       cchhmmoodd - изменить статус файла.

ФФООРРММААТТ
       _a_n_s_w_e_r = cchhmmoodd(_p_a_t_h, _m_o_d_e)
       iinntt   _a_n_s_w_e_r;
       cchhaarr **_p_a_t_h;
       iinntt   _m_o_d_e;

ООППИИССААННИИЕЕ
       Системный вызов cchhmmoodd  присваивает  файлу  _p_a_t_h  коды
       доступа  _m_o_d_e.   Значение  кодов доступа представляет
       собой битовую комбинацию следующих признаков:

       04000  При выполнении эффективный идентификатор поль-
              зователя процесса соответствует идентификатору
              владельца данного файла (режим _s_e_t-_U_I_D).

       02000  При   выполнении   эффективный   идентификатор
              группы  процесса  соответствует идентификатору
              группы владельца  данного  файла  (режим  _s_e_t-
              _G_I_D).

       01000  Если файл содержит реентерабельную  программу,
              то  после  ее первого вызова текстовый сегмент
              остается в памяти (или  в  области  подкачки),
              даже  если  в  данный  момент отсутствуют про-
              цессы, его использующие.  Если этот бит  уста-
              навливается  у  каталога,  то  для уничтожения
              файла в данном каталоге  требуется  не  только
              право  записи  в  каталог, но и право записи в
              файл. Этот режим используется,  например,  для
              каталога  /_t_m_p.   Устанавливать  данный  режим
              может только привилегированный пользователь.

       00400  Владелец файла имеет право его читать.

       00200  Владелец файла имеет право его изменять (запи-
              сывать).

       00100  Владелец файла  имеет  право  выполнения  (для
              каталога - поиска в нем).

       00070  Режим  доступа  для  членов  группы  владельца
              файла (чтение, запись, выполнение).

       00007  Режим доступа для всех  остальных  пользовате-
              лей.

       Изменять коды доступа файла может только его владелец
       или привилегированный пользователь.

       Для защиты информации от несанкционированного доступа
       при  модификации или смене владельца из кодов доступа
       файла автоматически удаляются режимы _s_e_t-_U_I_D  и  _s_e_t-
       _G_I_D.




                            -1-                     ДЕМОС/PV


CHMOD(2)          ДЕМОС. Системные вызовы           CHMOD(2)


ЗЗННААЧЧЕЕННИИЕЕ
       В случае успешного завершения  возвращается  значение
       0.   Если  указанный файл не существует или пользова-
       тель не имеет права изменять  статус  данного  файла,
       возвращается значение -1.

ККООДДЫЫ ООШШИИББООКК
       После неудачного завершения системного  вызова  cchhmmoodd
       переменная eerrrrnnoo может принимать следующие значения:

       [[EEPPEERRMM]]     Эффективный   идентификтор   пользователя
                   данного  процесса не является идентифика-
                   тором привилегированного пользователя или
                   идентификатором владельца файла.

       [[EENNOOTTDDIIRR]]   Указанное имя содержит компоненту,  кото-
                   рая не является каталогом.

       [[EENNOOEENNTT]]    Задано слишком  длинное  или  пустое  имя
                   файла.  Указанный файл не существует.

       [[EEAACCCCEESS]]    Какой-либо из каталогов, входящих  в  имя
                   файла, недоступен для просмотра.

       [[EERROOFFSS]]     Указанный файл находится в файловой  сис-
                   теме,  которая  смонтирована  только  для
                   чтения.

       [[EEFFAAUULLTT]]    Адрес аргумента системного вызова выходит
                   за границы памяти, доступной данному про-
                   цессу.

       [[EELLOOOOPP]]     Число косвенных ссылок в указанном  имени
                   превышает  максимально  допустимое значе-
                   ние.

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
       _c_h_o_w_n(2)






















                            -2-                     ДЕМОС/PV

