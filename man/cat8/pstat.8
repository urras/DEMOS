
PSTAT(8)        ДЕМОС. Сопровождение системы        PSTAT(8)


ИИММЯЯ
        ppssttaatt - опрос состояния системы.

ФФООРРММААТТ
        ppssttaatt [--aaiixxppttuuff] [_м_о_д_и_ф_и_к_а_т_о_р_ы] [_ф_а_й_л]

ООППИИССААННИИЕЕ
        Команда ppssttaatt интерпретирует содержимое определенных
        системных таблиц. Если задан _ф_а_й_л, таблицы считаются
        расположенными в этом  файле,  в  противном  случае,
        используется /_d_e_v/_m_e_m.  Имеются следующие ключи:

        --aa      совместно с ключом --pp, выводит все  элементы
                таблицы процессов, а не только активные.

        --ii      распечатать таблицу  I-узлов  со  следующими
                заголовками:

                _L_O_C     местонахождение данного  входа  таб-
                        лицы в памяти.

                _F_L_A_G_S   различные   переменные    состояния,
                        кодируемые следующим образом:

                        LL  заблокировано;
                        UU  время  модификации  должно   быть
                           скорректировано;
                        AA  время доступа должно  быть  скор-
                           ректировано;
                        MM  здесь смонтирована файловая  сис-
                           тема;
                        WW  затребован    другим    процессом
                           (установлен флаг LL);
                        TT  содержит файл текста;
                        CC  измененное  время   должно   быть
                           скорректировано;

                _C_N_T     число входов таблицы открытых файлов
                        для данного I-узла.

                _D_E_V     основной  (_m_a_j_o_r)  и  дополнительный
                        (_m_i_n_o_r)  номер  устройства  файловой
                        системы, в которой расположен данный
                        I-узел.

                _I_N_O     I-номер на устройстве.

                _M_O_D_E    статус файла (см.  _c_h_m_o_d(1)).

                _N_L_K     число связей для данного I-узла.

                _U_I_D     идентификатор пользователя-владельца
                        файла.

                _S_I_Z/_D_E_V число байтов  в  обычном  файле  или
                        основной  (_m_a_j_o_r)  и  дополнительный
                        (_m_i_n_o_r) номер  устройства  специаль-
                        ного файла.


                            -1-                      ДЕМОС/P


PSTAT(8)        ДЕМОС. Сопровождение системы        PSTAT(8)


        --xx      распечатать таблицу текстовых  сегментов  со
                следующими заголовками:

                _L_O_C     местонахождение данного  входа  таб-
                        лицы в памяти.

                _F_L_A_G_S   различные   переменные    состояния,
                        кодируемые следующим образом:

                        WW  текст еще  не  выгружен  на  уст-
                           ройство подкачки;
                        TT  трассируется;
                        LL  происходит загрузка;
                        KK  заблокирован;
                        ww  затребован (установлен флаг LL);

                _D_A_D_D_R   адрес на диске при  выгрузке,  изме-
                        ренный в блоках по 512 байт.

                _C_A_D_D_R   заголовок связного списка  загружен-
                        ных   процессов,  использующих  этот
                        текстовый сегмент.

                _S_I_Z_E    размер текстового сегмента, измерен-
                        ный в блоках по 512 байт.

                _I_P_T_R    местонахождение соответствующего  I-
                        узла в памяти.

                _C_N_T     число процессов,  использующих  этот
                        текстовый сегмент.

                _C_C_N_T    число процессов в памяти, использую-
                        щих этот текстовый сегмент.

        --pp      распечатать таблицу процессов  для  активных
                процессов со следующими заголовками:

                _L_O_C     местонахождение данного  входа  таб-
                        лицы в памяти.

                _S       состояние   выполнения,   кодируемое
                        следующим образом:

                        0  нет процесса;
                        1  ожидание некоторого события;
                        3  выполняемый;
                        4  создаваемый;
                        5  завершаемый;
                        6  остановлен  в  процессе   трасси-
                           ровки.

                _F       различные   переменные    состояния,
                        объединяемые вместе:

                        0001  загружен;
                        0002  процесс планирования;
                        0004  заблокирован для выгрузки;


                            -2-                      ДЕМОС/P


PSTAT(8)        ДЕМОС. Сопровождение системы        PSTAT(8)


                        0010  выгружен;
                        0020  трассируется;
                        0040  используется для трассировки;
                        0100  заблокирован     с     помощью
                              _l_o_c_k(2);
                        0200  работает без управляющего тер-
                              минала;
                        0400  использует новый механизм сиг-
                              налов;
                        01000 процесс-потомок,   во    время
                              выполнения vvffoorrkk;
                        02000 процесс-предок,    во    время
                              выполнения vvffoorrkk;
                        04000 завершение vvffoorrkk.

                _P_R_I     приоритет     планирования      (см.
                        _n_i_c_e(2)).

                _S_I_G_N_A_L  полученные  сигналы  (сигналы  1-16)
                        кодируются в битах 0-15.

                _U_I_D     фактический идентификатор  пользова-
                        теля.

                _T_I_M     резидентное время в секундах;  время
                        сверх 127 кодируется как 127.

                _C_P_U     взвешенная сумма  времени  централь-
                        ного процессора, для планирования.

                _N_I      уровень приоритета (см.  _n_i_c_e(2)).

                _P_G_R_P    номер процесса для корня группы про-
                        цессов   (связанного  с  управляющим
                        терминалом).

                _P_I_D     идентификационный номер процесса.

                _P_P_I_D    идентификационный номер порождающего
                        процесса.

                _A_D_D_R    при нахождении в оперативной  памяти
                        -  номер  страничного  кадра  первой
                        страницы _с_т_р_у_к_т_у_р_ы _u_s_e_r процесса.  в
                        выгруженном  состоянии - местонахож-
                        дение в области подкачки, измеренное
                        в блоках по 512 байт.

                _D_A_D_R    адрес  начала  сегмента   данных   в
                        памяти или в области подкачки.

                _S_A_D_R    адрес начала стека в  памяти  или  в
                        области подкачки.

                _D_S_I_Z    размер сегмента данных.

                _S_S_I_Z    размер стека в кликах.



                            -3-                      ДЕМОС/P


PSTAT(8)        ДЕМОС. Сопровождение системы        PSTAT(8)


                _W_C_H_A_N   номер канала ожидания для ожидающего
                        процесса.

                _L_I_N_K    указатель связи в списке  готовых  к
                        выполнению процессов.

                _T_E_X_T_P   если текст является  реентерабельным
                        - указатель на местонахождение входа
                        таблицы текста.

                _C_L_K_T    отсчет времени в секундах.

        --tt      распечатать таблицу состояния терминалов  со
                следующими заголовками:

                _R_A_W     количество символов в  очереди  пря-
                        мого ввода.

                _O_U_T     количество   символов   в    очереди
                        вывода.

                _M_O_D_E    режим    работы    терминала    (см.
                        _t_t_y(4)).

                _A_D_D_R    адрес физического устройства.

                _D_E_L     количество  разделителей   (символов
                        новой  строки)  в очереди каноничес-
                        кого ввода.

                _C_O_L     расчетная позиция столбца терминала.

                _S_T_A_T_E   различные   переменные    состояния,
                        кодируемые следующим образом:

                        TT  отрабатывает задержку;
                        WW  ожидает завершения открытия;
                        OO  открыт;
                        SS  имеет   специальную    (выходную)
                           программу запуска;
                        CC  включена передача;
                        BB  занят, осуществляя вывод;
                        AA  процесс ожидает вывод;
                        XX  открыт для монопольного использо-
                           вания;
                        HH  остановиться при закрытии;
                        QQ  отрабатывает спецсимвол.

                _P_G_R_P    группа процессов, для которой данный
                        терминал является управляющим.

        --uu      распечатать  информацию  о  пользовательском
                процессе;  следующий  параметр  представляет
                собой его адрес, как  указано  командой  ppss.
                Процесс   должен  находиться  в  оперативной
                памяти, либо используемый  файл  может  быть
                образом памяти с адресом 0.



                            -4-                      ДЕМОС/P


PSTAT(8)        ДЕМОС. Сопровождение системы        PSTAT(8)


        --ff      распечатать таблицу открытых файлов со  сле-
                дующими заголовками:

                _L_O_C     местонахождение данного  входа  таб-
                        лицы в памяти.

                _F_L_G     различные   переменные    состояния,
                        кодируемые следующим образом:

                        RR  открыт для чтения;
                        WW  открыт для записи;
                        PP  межпроцессный канал (pipe).

                _C_N_T     количество  процессов,  использующих
                        данный открытый файл.

                _I_N_O     местонахождение  входа  таблицы   I-
                        узлов для данного файла.

                _O_F_F_S    смещение по файлу (см.  _l_s_e_e_k(2)).

ФФААЙЙЛЛЫЫ
        /_d_e_m_o_s    используется таблица имен ядра
        /_d_e_v/_m_e_m  физическая память ЭВМ

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _p_s(1), _s_t_a_t(2), _f_i_l_s_y_s(5)

































                            -5-                      ДЕМОС/P

