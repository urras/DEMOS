
adm(8)          ДЕМОС. Сопровождение системы          adm(8)


ИИММЯЯ
        aaddmm - администрирование системы и обслуживание  бюд-
        жетов

ФФООРРММААТТ
        aaddmm

ООППИИССААННИИЕЕ
        Программа  aaddmm  предназначена  для  заведения  новых
        пользователей, изменений информации о пользователях,
        ведения бюджетов пользователей.  При  запуске  прог-
        раммы  обычным пользователем, выдается установленный
        для  него  бюджет.  Привилегированный   пользователь
        получает  приглашение "АДМ>"  и переходит в интерак-
        тивный режим. Программа обладает внутренним двуязыч-
        ным  кратким каталогом по директивам.  Все директивы
        программы aaddmm можно задавать как на английском,  так
        и  русском  языках.  Ниже  приведен  список директив
        программы aaddmm.

        Команды aaddmm:

        llooookk (ддаайй) [_п_о_л_ь_з...]
                        - выдать   бюджеты    пользователей.
                          Выдаются бюджеты указанных пользо-
                          вателей на терминал.

        pprrii (ппеечч)  [_п_о_л_ь_з...]
                        - выдать бюджеты на печатающие  уст-
                          ройство.  Формат выдачи более под-
                          робный, чем у директивы llooookk.

        sseett (уусстт) _п_о_л_ь_з...
                        - установить бюджеты  пользователей.
                          Производится установка или измене-
                          ние бюджета указанных  пользовате-
                          лей.   Если  до выполнения команды
                          sseett пользователя не было, он заво-
                          дится.

        rreess (сснняяттьь) [_п_о_л_ь_з...]
                        - снять   бюджетирование,    удалить
                          пользователя.   Производиться уда-
                          ление  пользователя  из   системы.
                          Соответствующие  записи  из файлов
                          /_e_t_c/_p_a_s_s_w_d,     /_e_t_c/_g_r_o_u_p      и
                          /_u_s_r/_a_d_m/_b_u_d_g_e_t  удаляются.  Ката-
                          логи и файлы пользователя остаются
                          без изменений.

        lloocckk (ззааккрр) _п_о_л_ь_з...
                        - закрыть пользователю вход  в  сис-
                          тему.   Пользователю   запрещается
                          вход в систему, пока для  него  не
                          будет  выполнена  директива  ooppeenn.
                          Приводит к  появлению  специальной
                          записи  в  файле  /_u_s_r/_a_d_m/_b_u_d_g_e_t.
                          Программа llooggiinn проверяет  наличие


                            -1-


adm(8)          ДЕМОС. Сопровождение системы          adm(8)


                          этой  записи, если эта запись при-
                          сутствует, пользователь не  сможет
                          войти в систему.

        ooppeenn (ооттккрр) _п_о_л_ь_з...
                        - открыть вход в  систему.  Отменяет
                          действие директивы lloocckk.

        !!_к_о_м_а_н_д_а        - выполнить _к_о_м_а_н_д_у sshh без выхода из
                          aaddmm.

        ccllrr (ооччсс) [_п_о_л_ь_з...]
                        - очистить статистику. Производиться
                          очистка статистики по использован-
                          ным листам  бумаги,  терминальному
                          времени и дисковому пространству.

        ddoossttaatt (ддссттаатт)  - провести сбор статистики по диско-
                          вой памяти.

        ttiimmssttaatt (ттссттаатт) - провести   сбор   статистики    по
                          использованному  времени  термина-
                          лов.

        lluu (сспп) [_п_о_л_ь_з...]
                        - выдать  список  пользователей   на
                          терминал.  Выдается  информация  о
                          зарегистрированных   пользователях
                          (даже  тех для которых не установ-
                          лен бюджет). Если  один  пользова-
                          тель  зарегистрирован  под разными
                          именами (например, _r_o_o_t  и  _t_o_o_r),
                          печатается информация обо всех его
                          именах.

        ccuu (иипп) _п_о_л_ь_з...
                        - изменить  информацию  о  пользова-
                          теле. Возможно изменение идентифи-
                          катора пользователя,  его  группы,
                          начального  каталога,  интерпрета-
                          тора команд, ф.и.о. пользователя и
                          дополнительной  информации о поль-
                          зователе.

        ppuu (пппп) [_п_о_л_ь_з...]
                        - выдать на печать список  пользова-
                          телей. Формат выдачи более подроб-
                          ный, чем в директиве lluu.

        eexxiitt (ввыыхх)      - выход. Завершение работы  с  прог-
                          раммой aaddmm.

        hheellpp (ииннфф)      - выдача краткого каталога по коман-
                          дам.

        Во всех командах имя пользователя можно заменять  на
        его _и_д_е_н_т_и_ф_и_к_а_т_о_р.



                            -2-


adm(8)          ДЕМОС. Сопровождение системы          adm(8)


        Программа производит установку бюджетов  пользовате-
        лей по следующим параметрам:

        ЛИСТЫ БУМАГИ ДЛЯ ПЕЧАТИ. Если пользователь использо-
        вал  установленный для него бюджет бумаги, программы
        спулинга  печатающего  устройства  не  разрешат  ему
        дальнейшую  печать. Для разрешения печати необходимо
        либо переустановить бюджет, либо очистить статистику
        по использованной бумаге для данного пользователя.

        ЧИСЛО ДИСКОВЫХ БЛОКОВ. Если пользователь  занял  под
        свои  файлы  больше  блоков, чем ему разрешено адми-
        нистратором, программа llooggiinn запрещает  ему  вход  в
        систему.  Для дальнейшей работы пользователю необхо-
        димо либо удалить часть файлов на диске, либо  пере-
        установить бюджет.

        ТЕРМИНАЛЬНОЕ ВРЕМЯ. При заведении данного  параметра
        необходимо указать число часов и минут, которое дан-
        ный пользователь может провести в общей сложности за
        терминалом.  При  превышении данного параметра прог-
        рамма llooggiinn запрещает пользователю вход  в  систему.
        Учитывается  астрономическое  время работы пользова-
        теля, а не время выполнения процессов пользователей,
        соответственно,  если пользователь зарегистрировался
        в системе, а затем по каким-либо причинам  не  рабо-
        тал,  но  в то же время терминал был зарегистрирован
        за ним, это время учитывается для данного  пользова-
        теля.

        ЧИСЛО ТЕРМИНАЛОВ. Данный параметр указывает  сколько
        терминалов может занимать одновременно пользователь,
        регистрируясь под одним и тем же именем. Если  число
        занятых  им  терминалов  равно установленному в бюд-
        жете, программа llooggiinn не  разрешает  регистрацию  на
        других терминалах под этим именем.

        Если ограничений для  пользователя  не  устанавлива-
        ется,  статистика  по  использованным листам бумаги,
        дисковому пространству и терминальному  времени  все
        равно ведется.

        Для  сбора  статистики  по  использованию  дискового
        пространства  и  терминальному  времени, лучше всего
        запускать через программу ccrroonn программы //eettcc//ddoossttaatt
        и //eettcc//ttiimmssttaatt.

ФФААЙЙЛЛЫЫ
        /_u_s_r/_a_d_m/_b_u_d_g_e_t   файл бюджетов пользователей
        /_e_t_c/_a_r_c_h_i_v_e_s     файл  имен  файловых  систем,   по
                          которым производиться сбор статис-
                          тики по использованному  дисковому
                          пространству
        /_e_t_c/_p_a_s_s_w_d       список пользователей
        /_e_t_c/_g_r_o_u_p        список групп

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _l_o_g_i_n(1),    _t_i_m_s_t_a_t(8),    _c_l_b_u_d(8),     _b_u_d_g_e_t(5),


                            -3-


adm(8)          ДЕМОС. Сопровождение системы          adm(8)


        _p_a_s_s_w_d(5), _g_r_o_u_p(5).

ЗЗААММЕЕЧЧААННИИЯЯ
        В настоящее время aaddmm не умеет  использовать  специ-
        альные  файлы - _q_u_o_t_e_s; поэтому ограничение дисковой
        памяти малоэффективно, т.к. проверяется  только  при
        входе в систему.

        Т.к. в данной версии aaddmm статистика по терминальному
        времени  собирается  по  файлу  /_u_s_r/_a_d_m/_w_t_m_p, перед
        очисткой этого файла надо выполнять команду ttiimmssttaatt.
        При автоматической очистке устаревших записей в _w_t_m_p
        могут получиться странные эффекты.

        Число листов бумаги корректно считается  только  при
        печати  на стандартные алфавитно-цифровые печатающие
        устройства. Если печать  производится  через  фильтр
        (см.  _l_p_t_a_b(5)), то счет листов должен производиться
        фильтром.









































                            -4-

