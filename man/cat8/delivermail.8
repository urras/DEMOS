
DELIVERMAIL(8)  ДЕМОС. Сопровождение системы  DELIVERMAIL(8)


ИИММЯЯ
        ddeelliivveerrmmaaiill - доставка почты пользователям.

ФФООРРММААТТ
        //eettcc//ddeelliivveerrmmaaiill [--[ffrr] _а_д_р_е_с] [--aa] [--ee _x] [--nn] [--mm]
        [--ss] [--ii] [--hh _N] _а_д_р_е_с...

ООППИИССААННИИЕЕ
        Команда ddeelliivveerrmmaaiill обеспечивает доставку писем або-
        нентам  сети.   Поскольку  прием  и  обработка почты
        выполняется  с  помощью  других  средств  (например,
        _m_a_i_l_x(1)),  команда не предназначена для непосредст-
        венного общения с пользователями.

        Команда ddeelliivveerrmmaaiill считывает  информацию  со  стан-
        дартного  файла  ввода до конца файла или до строки,
        состоящей из точки, и  посылает  копию  письма  всем
        перечисленным  адресатам.   Если  указан  ключ  --ii ,,
        строки,  содержащие  только   точку,   игнорируются.
        Сетевая  среда  для  доставки  почты определяется по
        адресу абонента.  Адреса, содержащие знак `!',  под-
        разумевают  доставку с помощью uuuuccpp.  Доставка почты
        по адресу, содержащему знак `:' или `.', выполняется
        с  помощью  пакета ССЕЕММООСС.  Остальные адреса являются
        локальными.

        Локальные адреса проверяются на наличие в файле рас-
        сылки,  ранее  созданном  командой  _n_e_w_a_l_i_a_s_e_s(1) и,
        если это название списка, подставляются имена  адре-
        сатов.   Подстановки можно избежать, для этого перед
        адресом записывается  символ  '\'  или  используется
        ключ --nn.  Обычно отправитель не получает собственную
        почту, даже если  его  имя  содержится  в  указанном
        списке рассылки.  Ключ --mm запрещает сжатие.

        Команда ddeelliivveerrmmaaiill  вычисляет  отправителя  по  его
        входному  имени.  Отправитель может быть указан явно
        при помощи ключа --ff.  Этот ключ  может  использовать
        только привилегированные пользователи _r_o_o_t и _n_e_t_w_o_r_k
        или  пользователь,  посылающий  почту  самому  себе.
        Ключ --rr является точным эквивалентом --ff.

        Ключ --ee_x управляет  выдачей  сообщений  об  ошибках,
        символ _x может иметь следующие значения:

        ee  Выводить диагностики  об  ошибках  в  стандартный
           файл  вывода и выдавать копию сообщения по завер-
           шению  пересылки  (подразумевается,  что  сетевая
           служба возвратит сообщение пользователю).

        mm  Посылать сообщения об  ошибках  обратно  отправи-
           телю.

        pp  Выдавать сообщения в стандартный файл вывода.

        qq  Не выдавать  сообщения  (выдается  только  статус
           возврата).



                            -1-                      ДЕМОС/P


DELIVERMAIL(8)  ДЕМОС. Сопровождение системы  DELIVERMAIL(8)


        ww  Выдавать  ошибки  на  терминал  отправителя,   но
           только  если  он еще не вышел из системы и разре-
           шена выдача на терминал; иначе  ошибки  пересыла-
           ются по почте.

        Если ошибка не послана обратно, и почту  посылали  с
        машины,  где  возникла  ошибка, письмо добавляется к
        файлу   _d_e_a_d._l_e_t_t_e_r   в   регистрационном   каталоге
        отправителя.

        Если первый знак имени пользователя  -  вертикальная
        черта,   остаток   имени   воспринимается   как  имя
        программы-фильтра, через  которую  нужно  пропустить
        почту.   Возможно, потребуется заключить имя пользо-
        вателя в кавычки, чтобы ddeelliivveerrmmaaiill не  удалял  про-
        белы между аргументами.

        Обычно, чтобы не смущать другие  программы  почтовой
        службы, строки FFrroomm ("от кого") убираются из сообще-
        ния.  В частности, строки  FFrroomm  удаляются  в  заго-
        ловке,  а  внутри сообщения перед ними ставится `>'.
        Ключ --ss сохраняет строки FFrroomm в заголовке.

        Ключ --hh выдает сколько раз это сообщение было  обра-
        ботано ddeelliivveerrmmaaiill (обычно на других машинах).  Каж-
        дый раз, когда ddeelliivveerrmmaaiill  обрабатывает  сообщение,
        соответствующий  счетчик  увеличивается  на единицу.
        Если он превысит 30, считается, что возник цикл  при
        раскрытии списков рассылки и сообщение удаляется.

        Команда  возвращает  статус,  описывающий  результат
        работы.  Его значения определены в <_s_y_s_e_x_i_t_s._h>:

        EEXX__OOKK       Успешное завершение по всем адресам;

        EEXX__NNOOUUSSEERR   Имя пользователя не распознано;

        EEXX__UUNNAAVVAAIILLAABBLLEE
                    Необходимые ресурсы не были доступны;

        EEXX__SSYYNNTTAAXX   Синтаксическая ошибка в адресе;

        EEXX__SSOOFFTTWWAARREE Внутренняя ошибка программного обеспече-
                    ния, в том числе плохие аргументы;

        EEXX__OOSSEERRRR    Временная ошибка  операционной  системы,
                    (например  "нельзя  создать  новый  про-
                    цесс");

        EEXX__NNOOHHOOSSTT   Имя машины не распознано.

ФФААЙЙЛЛЫЫ
        /_u_s_r/_l_i_b/_a_l_i_a_s_e_s      исходный  текст  списков  рас-
                              сылки
        /_u_s_r/_l_i_b/_a_l_i_a_s_e_s._d_i_r  списки рассылки
        /_u_s_r/_l_i_b/_a_l_i_a_s_e_s._p_a_g
        /_b_i_n/_m_a_i_l             для рассылки почты uuuuccpp
        /_u_s_r/_n_e_t/_b_i_n/_s_e_n_d_m_a_i_l для рассылки почты ССЕЕММООСС


                            -2-                      ДЕМОС/P


DELIVERMAIL(8)  ДЕМОС. Сопровождение системы  DELIVERMAIL(8)


        /_t_m_p/_m_a_i_l*            временный файл
        /_t_m_p/_x_s_c_r_i_p_t*         сохраненный протокол передачи

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _m_a_i_l(1), _m_a_i_l_x(1), _n_e_w_a_l_i_a_s_e_s(1), _a_l_i_a_s_e_s(5), _s_y_s_e_x_-
        _i_t_s(5)

ЗЗААММЕЕЧЧААННИИЯЯ
        Команда ddeelliivveerrmmaaiill посылает по копии письма каждому
        пользователю.   Следовало бы посылать по одной копии
        на машину и распространять письмо  по  пользователям
        уже там.

        В систему могут включаться и  другие  средства  дос-
        тавки (например, sseennddmmaaiill).













































                            -3-                      ДЕМОС/P

