
SHUTDOWN(8)     ДЕМОС. Сопровождение системы     SHUTDOWN(8)


ИИММЯЯ
        sshhuuttddoowwnn - остановить систему в указанное время.

ФФООРРММААТТ
        //eettcc//sshhuuttddoowwnn [--kkrrffhhdd] _в_р_е_м_я [_с_о_о_б_щ_е_н_и_е]

ООППИИССААННИИЕЕ
        Команда sshhuuttddoowwnn останавливает систему  в  указанное
        время.   Время  закрытия  системы  может  задаваться
        двумя способами: +_M_M или  _H_H:_M_M.   В  первом  случае
        система будет остановлена через _М_М минут (можно ука-
        зывать 0 минут), во втором - в _H_H часов _М_М минут (по
        24-часовой  шкале).  В обоих случаях, время закрытия
        системы должно соответствовать текущим суткам.

        С этого момента через определенные  промежутки  вре-
        мени  всем  работающим  в  системе  будет посылаться
        напоминание о  времени  окончания  работы.  За  пять
        минут  до  закрытия запрещается регистация в системе
        новых пользователей. При попытке входа в систему  им
        сообщается  время остановки системы и причина закры-
        тия (сообщение).

        Перед закрытием в файле /_u_s_r/_a_d_m/_s_h_u_t_d_o_w_n_l_o_g  фикси-
        руется  время остановки, имя пользователя, запустив-
        шего команду sshhuuttddoowwnn, и причина выключения.  Далее,
        всем  процессам (кроме 0, 1 и самого sshhuuttddoowwnn) посы-
        лается сигнал TTEERRMM, и sshhuuttddoowwnn ждет 1  минуту,  пока
        процессы,  перехватывающие  этот сигнал, не закончат
        действия по нему.  После чего выполняется  ssyynncc,  и,
        если  не задан ни один из ключей --rr ,, --ff ,, --hh ,, --dd ,,
        система переводится в однопользовательский режим.

        Если был задан ключ  --rr  ,,  то  вызовется  программа
        //eettcc//rreebboooott  (см.  _r_e_b_o_o_t(8)) без параметров и прои-
        зойдет перезагрузка системы.  По ключу --ff  вызовется
        программа  //eettcc//rreebboooott  с  этим  ключом и произойдет
        перезагрузка системы без  проверки  файловых  систем
        после  старта.   По  ключу  --dd  вызовется  программа
        //eettcc//rreebboooott с этим ключом, образ  ядра  запишется  в
        область подкачки, и произойдет перезагрузка системы.
        По ключу --hh вызовется программа //eettcc//rreebboooott  с  этим
        ключом  и произойдет останов процессора без перезаг-
        рузки системы.

        К интересному эффекту  приводит  задание  ключа  --kk.
        Команда  sshhuuttddoowwnn не закрывает систему, а лишь симу-
        лирует ее закрытие. Этот режим может  использоваться
        скорее как мера психологического воздействия. Наибо-
        лее слабонервные и наименее увлеченные работой, воз-
        можно,  покинут  систему  после получения нескольких
        предупреждений и оставшимся будет "просторнее".

        Чтобы  корректно  прекратить  выполнение   программы
        sshhuuttddoowwnn, нужно выполнить команду

                kkiillll --TTEERRMM <номер процесса sshhuuttddoowwnn>



                            -1-                      ДЕМОС/P


SHUTDOWN(8)     ДЕМОС. Сопровождение системы     SHUTDOWN(8)


ФФААЙЙЛЛЫЫ
        /_e_t_c/_n_o_l_o_g_i_n          сообщение о  причине  закрытия
                              системы. Используется командой
                              _l_o_g_i_n(1)
        /_u_s_r/_a_d_m/_s_h_u_t_d_o_w_n_l_o_g  статистическая  информация   о
                              закрытии системы

ДДООППООЛЛННИИТТЕЕЛЛЬЬННЫЫЕЕ ССССЫЫЛЛККИИ
        _l_o_g_i_n(1), _i_n_i_t(8), _r_e_b_o_o_t(8)



















































                            -2-                      ДЕМОС/P

