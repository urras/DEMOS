./qrymod/d_prot.c

./qrymod/integriry
	Пропущена проверка на mdRET_UNI
./qrymod/issue.c
	Добавлено обращение к init_qt()
./qrymod/puttree.c
	Отладочные печати
./qrymod/qrymod.c
	Борьба с трассировками
./monitor/monitor.c
	Отладочные печати
./monitor/ttymon.c
	Ошибка в диагностике в случае, если строки в файле нет
./dbu/rmqm.c
	Короткая переменная при засылке в setkey должна быть короткой
	При удалении protect была пропущена *
./gutil/bequal.c
	Убран тип bool
./gutil/need.c
	Отладочные печати
./gutil/sequal.c
	Отладочные печати
./ctlmod/do_seq.c
	Отладочные печати
./ctlmod/error.c
	-- // --
./ctlmod/initp.c
	-- // --
./ctlmod/main.c
	Засылка адреса pb
./ctlmod/pb_prime.c
	Дописана функция сброса указателей в буфере
./ctlmod/readqry.c
	Отладочная печать
./ctlmod/resetp.c
	-- // --
./ctlmod/send_off.c
	Добавлено обращение к сбросу указателей в pb (pb_binit)
./ctlmod/writeqry.c
	Отладочные печати
./h/catalog.h
	Изменены обозначения типов
./parser/call_tree.c
	Отладочные печати
./parser/control.c
	Обращение к savep
./parser/grammar.y
	Исправлено обращение с типом *int там, где нужно *i_2
./parser/s_number.c
	Ошибка в типе i2
./iutil/gettree.c
	Отладочные печати
./iutil/opencat.c
./iutil/setkey.c
./iutil/ORIGINAL/opencat.c
./iutil/opencat.c.main
Везде:
	Проправлено обращение к setkey с адресом переменной типа i_2
	(вместо int переменная заменена на short). То же касается
	и char.
	Тип функций bool заменен на int.
Исправлен тип domain... в нескольких местах.

Монитор:
1. Введены русские буквы в макро, заодно исправлена куча ошибок
by @AVG.
2. Контрол-символы теперь выкидываются при переписи в парсер, а не при
вводе.
3. В строке можно размещать несколько макро.

Программы поддержки:
1. В subr.c ошибка в программах работы с каталогами.
2. В purge внесены изменения так, чтобы правильно работал
оптимизатор на UTEC.
libq:
1. Исправлен тип t (на char) в IIcvar.c
2. Исправлена IIreadinp для правильного приема параметров типа INT.

dbu/copy.c
	charmove -      исправлена ошибка в передаче русских букв
dbu/create.c, support/creatdb.c h/catalog.h
	введено выравнивание целых и вещественных
iutil/put_tuple.c
iutil/get_tuple.c
	исправлены упаковка/распаковка в связи с выравниванием.

-----
Исправления к версии 2.10

1. В модуле support/sysmod тип Noupdate изменен с char на int.
   (sysmod заработал).
2. Добавлено стирание рабочих отношений при выходе из DECOMP
   по прерыванию.
3. В список ошибок внесена ошибка 3100 - слишком много range переменных.
4. Выяснилось, что не устанавливался флаг активности функций (fn_active),
   из за чего при прерывании по ^C происходило много разных чудес
   (зависание на lock, остающиеся временные отношения и т.д.).
   Теперь флаг устанавливается.
   Зависания по lock пока исчезли, возможно, что с этим же было
   связано переполнение range переменных.

Май 1988.
1. Исправлена ошибка в индексах, связанная с выравниванием.
2. Исправлена ошибка в обработке квалификатора where tid=число
   при больших числах > 2**15;
3. Улучшена обработка сигнала прерывания в QUEL, в частности,
   теперь операция modify прерывается нормально, а прерывание
   операций CREATE, DESTROY не приводит к зависанию нестертых
   атрибутов в системных описаниях.
4. Исправлена ошибка в EQUEL: после прихода нефатальной ошибки
   обработка запроса продолжается нормально (раньше такие ошибки
   приводили к вылету всей задачи на следующем запросе).
5. Добавлено правило умолчаний для range переменных: если переменная
   не определена, и существует отношение с именем, равным имени
   этой переменной, то переменная связывается с этим отношением
   по умолчанию. Поэтому вместо:
     range of e is salary
     retrieve (e.all)

   можно писать:
      retrieve (salary.all)

6.  Исправлен (в EQUEL) оператор "define view" - он просто не работал
    из за неверного описания операции mdVIEW.

7. Улучшена работа с виртуальными отношениями. Во первых, снят ряд
ограничений на их использование в операторах
    retrieve
    replace
    append
    delete
  - ссылки на них могут появляться без ограничения в квалификации и в
  правой части выражений в целевом списке, а также в агрегатах.
  Исправлена ошибка, из за которой агрегатные функции от
  виртуальных отношений вычислялись неправильно (не подставлялось условие).
8. Исправлена обработка ограничений доступа в случае
     define permit retrieve  .. to all
  - данное отношение может появляться в любых операторах
  в правой части выражений.

16.08.88. Руднев А.П.
1. Исправлена ошибка в initp/resetp/init_qt, проявлявшаяся в
   захвате памяти без ее освобождения по каждому RETRIEVE
   (когда в задаче было сделано 10000 запросов, 1МБ памяти
   не хватило, и ошибка вылезла). Эта ошибка проявлялась
   только в "БОЛЬШОМ" варианте сборки (все в 1 процесс).
02.09.88
1. Исправлена ошибка в equel, из за которой неверно транслировалась
   подстановка "SHORT" переменных.
2. Исправлена ошибка в libq при работе с параметрическими операторами
   типа append/replace и переменными %i4, а заодно и %i1.

04.10.88
1. Система запущена на СМ-1420
2. ovqp/string.c - исправлена работа с русскими буквами в
   коде КОИ-8

10.01.89
1. Система запущена на XENIX
2. Исправлена ошибка в работе с длинными записями в copy / batch
3. Переделан алгоритм открытия блокировок: теперь в многопроцессном
   варианте ставится только 1 блок на базу и используется общий FILE
   (экономится 4 структуры NFILES на базу).
4. Исправлена ошибка в блокировках, приводившая к вылету запроса
   retrieve, если в это время происходила модификация одного из
   отношений.
5. Сделана блокировка через механизм fcntl + FLOCK из System-V.2.1
   (вместо специального драйвера).

24.01.89
Сделано интересное открытие:
оказывается, в XENIX при закрытии файла снимаются все блокировки на
этот файл от данного процесса, независимо от того, по какому
дескриптору они были выставлены. Из-за этого пришлось для
блокировки создать отдельный файл Lockf вместо использования adm,
как это было задумано вначале.

26.01.89
1. Записана система RUBIN 2.14. Туда вошли все перечисленные выше
   доработки.

02.01.89
1. Подключен SQL - монитор. Теперь, если rubin вызвать как "SQL",
   вместо proctab7 используется proctab7+S, которая подключает
   sqlmon вместо monitor. По этому поводу переделан формат вызова
   процессов в RUBIN - теперь им передается еще один параметр:
   Dbpath. Соответственно изменены readadmin и lock.


01.12.89 - 10.12.89

1. Версия 2.15, предварительно отлаженная на UTEC,
   снесена на PC/386 и VAX ULTRIX. Начата проверка.

2. Выявлены и исправлены ошибки:
   - не ставился признак вторичного индекса в "create"
     (это моя ошибка).
   - Исправлена ошибка в EQUEL, которая не проявлялась на
     других машинах (а здесь все торжественно упало).
   - Выявлена и исправлена ошибка в работе с шаблонами
     преобразования даты и времени - терялся признак
     конца строки. Введен запас в 1 символ в tree, и
     format теперь ставит полную длину, если это шаблон.
     То же самое нужно сделать и в именах в "serial".
   - Начата выверка LIBQ для PC.
